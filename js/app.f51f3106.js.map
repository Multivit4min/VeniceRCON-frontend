{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/images/maps/xp2_skybar.jpg","webpack:///./src/assets/images/maps/xp2_palace.jpg","webpack:///./src/assets/images/maps/xp4_quake.jpg","webpack:///./src/assets/images/maps/xp5_003.jpg","webpack:///./src/assets/images/maps/mp_013.jpg","webpack:///./src/assets/images/maps/xp1_002.jpg","webpack:///./src/components/Console.vue?2378","webpack:///./src/assets/images/maps/xp1_004.jpg","webpack:///./src/assets/images/maps/xp3_desert.jpg","webpack:///./src/assets/images/maps/mp_012.jpg","webpack:///./src/assets/images/maps/xp3_valley.jpg","webpack:///./src/assets/images/maps/xp3_alborz.jpg","webpack:///./src/assets/images/maps/xp5_001.jpg","webpack:///./src/assets/images/maps/mp_007.jpg","webpack:///./src/assets/images/maps/xp4_rubble.jpg","webpack:///./src/assets/images/maps/mp_011.jpg","webpack:///./src/assets/images/maps/mp_subway.jpg","webpack:///./src/components/ServerCard.vue?f2eb","webpack:///./src/assets/images/maps/xp2_office.jpg","webpack:///./src/assets/images/maps/xp4_parl.jpg","webpack:///./src/assets/images/maps/xp1_003.jpg","webpack:///./src/assets/images/maps/xp5_004.jpg","webpack:///./src/assets/images/maps/xp4_fd.jpg","webpack:///./src/assets/images/maps/xp1_001.jpg","webpack:///./src/assets/images/maps/xp5_002.jpg","webpack:///./src/assets/images/maps/mp_018.jpg","webpack:///./src/assets/images/maps/mp_001.jpg","webpack:///./src/assets/images/maps sync ^\\.\\/.*\\.jpg$","webpack:///./src/assets/images/maps/xp2_factory.jpg","webpack:///./src/App.vue","webpack:///./src/services/store/modules/auth.ts","webpack:///./src/services/api/api/ApiError.ts","webpack:///./src/services/api/api/ApiRequest.ts","webpack:///./src/services/api/api/Api.ts","webpack:///./src/services/api/VeniceRcon.ts","webpack:///./src/services/api/index.ts","webpack:///./src/services/store/modules/app.ts","webpack:///./src/services/store/modules/instances.ts","webpack:///./src/services/store/index.ts","webpack:///./src/App.vue?1d14","webpack:///./src/App.vue?97f5","webpack:///./src/views/main/Main.vue","webpack:///./src/services/socket/index.ts","webpack:///./src/views/main/Main.vue?fbe9","webpack:///./src/views/main/Main.vue?ddf8","webpack:///./src/views/main/Dashboard.vue","webpack:///./src/components/ServerCard.vue","webpack:///./src/services/battlefield/map.ts","webpack:///./src/components/ConfirmAction.vue","webpack:///./src/components/ConfirmAction.vue?aced","webpack:///./src/components/ConfirmAction.vue?0a3c","webpack:///./src/components/ServerCard.vue?ea11","webpack:///./src/components/ServerCard.vue?b116","webpack:///./src/components/AddInstance.vue","webpack:///./src/components/AddInstance.vue?f703","webpack:///./src/components/AddInstance.vue?b6a9","webpack:///./src/views/main/Dashboard.vue?15f1","webpack:///./src/views/main/Dashboard.vue?d828","webpack:///./src/views/main/Instance.vue","webpack:///./src/components/AppMenu.vue","webpack:///./src/components/Console.vue","webpack:///./src/components/Console.vue?aed7","webpack:///./src/components/Console.vue?bd05","webpack:///./src/components/AppMenu.vue?8887","webpack:///./src/components/AppMenu.vue?81cc","webpack:///./src/views/main/Instance.vue?587d","webpack:///./src/views/main/Instance.vue?c592","webpack:///./src/views/auth/Logout.vue","webpack:///./src/views/auth/Logout.vue?9a3b","webpack:///./src/views/auth/Logout.vue?d045","webpack:///./src/views/auth/Login.vue","webpack:///./src/views/auth/Login.vue?9541","webpack:///./src/views/auth/Login.vue?b136","webpack:///./src/services/router/index.ts","webpack:///./src/components/PermissionCheck.vue","webpack:///./src/components/PermissionCheck.vue?05f2","webpack:///./src/components/PermissionCheck.vue?c315","webpack:///./src/main.ts","webpack:///./src/assets/images/maps/xp3_shield.jpg","webpack:///./src/assets/images/maps/mp_003.jpg","webpack:///./src/assets/images/maps/mp_017.jpg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","initialized","AUTH","defaultState","token","localStorage","getItem","whoami","mutations","UPDATE_TOKEN","state","setItem","UPDATE_WHOAMI","response","LOGOUT","removeItem","assign","getters","loggedIn","hasPermission","scope","permissions","some","node","root","instance","scopes","includes","store","res","body","status","method","url","this","message","parent","parameter","_path","params","path","replace","match","undefined","String","headers","hasBody","content","_body","JSON","stringify","callback","_intercept","request","commit","props","Authorization","bearer","updateToken","contentType","json","intercept","init","commonHeaders","getHeaders","getBody","fetch","host","getActualPath","responseHandler","app","endpoint","endpoints","auth","api","username","password","post","send","email","currentPassword","guid","playerId","delete","permId","patch","words","userId","index","toIndex","mod","plugin","pluginId","config","uuid","VeniceRcon","InstanceState","Subset","APP","DEFAULT_ENDPOINT","getEndpoints","parse","Array","isArray","parseInt","INSTANCE","actions","INITIALIZE","dispatch","rootState","ADD_LOCATION","SELECT_ENDPOINT","MESSAGE","trigger","reduce","a","v","toString","console","log","type","apiEndpointUrl","MESSAGE_LIMIT","CONSOLE_LIMIT","instances","messages","ADD","DEL","UPDATE","changes","forEach","change","ADD_CHAT","ADD_CONSOLE","event","filter","find","obj","split","msg","unshift","msgs","getInstance","getInstanceState","strict","computed","mounted","render","DEFAULT_OPTIONS","autoConnect","transports","manager","toast","unwatch","watch","connect","disconnect","unmounted","methods","auth_token","socket","registerEvents","reconnect","on","kills","level","instanceId","add","severity","detail","summary","life","components","SocketComponent","class","open","createInstance","onClose","label","icon","header","alt","serverinfo","src","mapThumbnail","title","subtitle","port","info","footer","to","style","confirmStop","stop","start","currentState","disabled","confirmDelete","removeInstance","maps","MP_001","MP_003","MP_007","MP_011","MP_012","MP_013","MP_017","MP_018","MP_Subway","XP1_001","XP1_002","XP1_003","XP1_004","XP2_Factory","XP2_Office","XP2_Palace","XP2_Skybar","XP3_Desert","XP3_Alborz","XP3_Shield","XP3_Valley","XP4_Quake","XP4_FD","XP4_Parl","XP4_Rubble","XP5_001","XP5_002","XP5_003","XP5_004","translate","position","visible","close","autofocus","Boolean","Function","Dialog","confirm","required","validator","ConfirmAction","mapId","toLowerCase","warn","mapName","version","slots","totalSlots","scores","join","stopInstance","startInstance","deleteInstance","__scopeId","for","closable","tested","busy","test","save","error","placeholder","min","max","format","initialState","Message","getConnectionInfo","ServerCard","AddInstance","model","items","end","showConsole","height","terminal","prefix","Number","reverse","currentRoute","MenuBar","Console","AppMenu","logout","options","selectedEndpoint","createEndpoint","addEndpoint","newEndpoint","login","set","testEndpoint","getApiLocation","endsWith","$router","$toast","routes","component","Main","children","Instance","Dashboard","Login","Logout","redirect","router","history","waitInitialized","Promise","fulfill","unsubscribe","beforeEach","from","next","every","App","PermissionCheck","use","mount"],"mappings":"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","file":"js/app.f51f3106.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/VeniceRCON-frontend/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/xp2_skybar.d752e3be.jpg\";","module.exports = __webpack_public_path__ + \"img/xp2_palace.b2d8c01d.jpg\";","module.exports = __webpack_public_path__ + \"img/xp4_quake.90e3a343.jpg\";","module.exports = __webpack_public_path__ + \"img/xp5_003.7bb17582.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_013.c8d67f15.jpg\";","module.exports = __webpack_public_path__ + \"img/xp1_002.2e3c3f59.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Console.vue?vue&type=style&index=0&id=b5c25768&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/xp1_004.a8bf917f.jpg\";","module.exports = __webpack_public_path__ + \"img/xp3_desert.e05ade01.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_012.c7f8a983.jpg\";","module.exports = __webpack_public_path__ + \"img/xp3_valley.e6c1fb95.jpg\";","module.exports = __webpack_public_path__ + \"img/xp3_alborz.d0d09ba8.jpg\";","module.exports = __webpack_public_path__ + \"img/xp5_001.98c8a675.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_007.5366efec.jpg\";","module.exports = __webpack_public_path__ + \"img/xp4_rubble.9ad291a2.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_011.71bc2977.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_subway.986dcf1c.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ServerCard.vue?vue&type=style&index=0&id=d28a5ce4&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/xp2_office.d9d5e451.jpg\";","module.exports = __webpack_public_path__ + \"img/xp4_parl.5df3f2a0.jpg\";","module.exports = __webpack_public_path__ + \"img/xp1_003.dca90136.jpg\";","module.exports = __webpack_public_path__ + \"img/xp5_004.4c6baab9.jpg\";","module.exports = __webpack_public_path__ + \"img/xp4_fd.228e7495.jpg\";","module.exports = __webpack_public_path__ + \"img/xp1_001.fbbcf653.jpg\";","module.exports = __webpack_public_path__ + \"img/xp5_002.b4abb8f3.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_018.abd10fc9.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_001.190f5ed2.jpg\";","var map = {\n\t\"./mp_001.jpg\": \"bf43\",\n\t\"./mp_003.jpg\": \"f58a\",\n\t\"./mp_007.jpg\": \"5ecb\",\n\t\"./mp_011.jpg\": \"67f3\",\n\t\"./mp_012.jpg\": \"49b8\",\n\t\"./mp_013.jpg\": \"1ef3\",\n\t\"./mp_017.jpg\": \"f8e2\",\n\t\"./mp_018.jpg\": \"b795\",\n\t\"./mp_subway.jpg\": \"6d95\",\n\t\"./xp1_001.jpg\": \"a697\",\n\t\"./xp1_002.jpg\": \"1f9d\",\n\t\"./xp1_003.jpg\": \"7fbd\",\n\t\"./xp1_004.jpg\": \"2d3d\",\n\t\"./xp2_factory.jpg\": \"c389\",\n\t\"./xp2_office.jpg\": \"727f\",\n\t\"./xp2_palace.jpg\": \"0ff4\",\n\t\"./xp2_skybar.jpg\": \"0f89\",\n\t\"./xp3_alborz.jpg\": \"4f70\",\n\t\"./xp3_desert.jpg\": \"40fe\",\n\t\"./xp3_shield.jpg\": \"e733\",\n\t\"./xp3_valley.jpg\": \"49bf\",\n\t\"./xp4_fd.jpg\": \"8b56\",\n\t\"./xp4_parl.jpg\": \"7a9b\",\n\t\"./xp4_quake.jpg\": \"18e9\",\n\t\"./xp4_rubble.jpg\": \"62ab\",\n\t\"./xp5_001.jpg\": \"5ba4\",\n\t\"./xp5_002.jpg\": \"ab5a\",\n\t\"./xp5_003.jpg\": \"1b9f\",\n\t\"./xp5_004.jpg\": \"8275\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"c2b6\";","module.exports = __webpack_public_path__ + \"img/xp2_factory.e8176b1a.jpg\";","<template>\n  <div>\n    <div v-if=\"initialized\">\n      <router-view/>\n    </div>\n    <div v-else>\n      Loading...\n    </div>\n    <Toast />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"./services/store\"\nimport { APP } from \"./services/store/modules/app\"\n\nexport default defineComponent({\n  computed: {\n    initialized: () => store.state.app.initialized\n  },\n  async mounted() {\n    await store.dispatch(APP.INITIALIZE)\n  }\n})\n\n</script>","import api, { VeniceRcon } from \"../../api\"\nimport { Module, MutationTree, GetterTree } from \"vuex\"\nimport { rootState } from \"../\"\n\nexport enum AUTH {\n  UPDATE_TOKEN = \"AUTH_UPDATE_TOKEN\",\n  UPDATE_WHOAMI = \"AUTH_UPDATE_WHOAMI\",\n  LOGOUT = \"AUTH_LOGOUT\"\n}\n\nexport type AuthState = {\n  token: string|null\n  whoami: VeniceRcon.WhoamiResponse|null\n}\n\nfunction defaultState(): AuthState {\n  return {\n    token: localStorage.getItem(\"jwt\") || null,\n    whoami: null\n  }\n}\n\nconst mutations: MutationTree<AuthState> = {\n  [AUTH.UPDATE_TOKEN](state, token: string) {\n    localStorage.setItem(\"jwt\", token)\n    state.token = token\n  },\n  [AUTH.UPDATE_WHOAMI](state, response: VeniceRcon.WhoamiResponse) {\n    state.whoami = response\n  },\n  [AUTH.LOGOUT](state) {\n    localStorage.removeItem(\"jwt\")\n    Object.assign(state, defaultState())\n  }\n}\n\nconst getters: GetterTree<AuthState, rootState> = {\n  loggedIn: state => state.whoami !== null,\n  hasPermission: state => (id: number|undefined, scope: string) => {\n    if (!state.whoami) return false\n    return state.whoami.permissions.some(node => {\n      if (node.root || node.instance === id)\n        return node.scopes.includes(scope)\n    })\n  }\n}\n\nconst store: Module<AuthState, rootState> = {\n  state: defaultState(),\n  mutations,\n  getters\n}\n\nexport default store","import { ApiRequest } from \"./ApiRequest\"\n\nexport class ApiError extends Error {\n  private res: Response\n  private body: any\n\n  constructor(req: ApiRequest, res: Response, body: any) {\n    super(`api responded with code ${res.status} on ${req.method} ${res.url}`)\n    this.res = res\n    this.body = body\n  }\n\n  get content() {\n    return this.body.message\n  }\n\n  get status() {\n    return this.res.status\n  }\n}","import { Api } from \"./Api\"\n\nexport class ApiRequest<T = any> {\n  readonly parent: Api\n  method: ApiRequest.RequestMethod\n  private _path: [string, Record<string,string|number>]|undefined\n  private _body: any|undefined\n  private _intercept: ApiRequest.InterceptCallback<T>|undefined\n\n  constructor(parent: Api, method: ApiRequest.RequestMethod) {\n    this.parent = parent\n    this.method = method\n  }\n\n  /**\n   * sets the path with his parameters\n   * @param url url to call\n   * @param parameter parameter to replace in the url\n   */\n  path(url: string, parameter: Record<string, string|number> = {}) {\n    this._path = [url, parameter]\n    return this\n  }\n\n  getActualPath() {\n    if (!this._path) throw new Error(\"no path for this request set\")\n    const params = this._path[1]\n    const path = this._path[0].replace(/\\/:[\\w\\d]+(\\/|$)/g, match => {\n      const m = match.match(/:([\\w\\d]+)/)\n      if (!m) return match\n      const key = m[1]\n      if (params[key] === undefined) return match\n      return match.replace(/:([\\w\\d]+)/, String(params[key]))\n    })\n    return path\n  }\n\n  getHeaders() {\n    const headers: Record<string, string> = {}\n    if (this.hasBody()) headers[\"Content-Type\"] = \"application/json\"\n    return headers\n  }\n\n  /** sets the body */\n  body(content: any) {\n    this._body = content\n    return this\n  }\n\n  hasBody() {\n    return this._body !== \"undefined\"\n  }\n\n  getBody() {\n    return JSON.stringify(this._body)\n  }\n\n  intercept(callback: ApiRequest.InterceptCallback<T>) {\n    this._intercept = callback\n    return this\n  }\n\n  send(): Promise<T> {\n    return this.parent.request<T>(this, this._intercept)\n  }\n}\n\nexport namespace ApiRequest {\n  export type RequestMethod = \"GET\"|\"POST\"|\"PATCH\"|\"DELETE\"\n  export type InterceptCallback<T> = (res: Response, body: T) => any\n}","import { ApiError } from \"./ApiError\"\nimport { ApiRequest } from \"./ApiRequest\"\nimport store from \"../../store\"\nimport { AUTH } from '../../store/modules/auth'\n\nexport class Api {\n  get host() {\n    const { endpoint, endpoints } = store.state.app\n    return endpoints[endpoint]\n  }\n\n  get token() {\n    return store.state.auth.token\n  }\n\n  updateToken(token: string|null) {\n    store.commit(AUTH.UPDATE_TOKEN, token)\n    return this\n  }\n\n  private commonHeaders(props: Record<string, string> = {}) {\n    const headers: Record<string, string> = {}\n    if (this.token) headers.Authorization = `Bearer ${this.token}`\n    return { ...headers, ...props }\n  }\n\n  private async responseHandler<T = any>(req: ApiRequest, res: Response) {\n    const bearer = res.headers.get(\"Authorization\")\n    if (bearer) {\n      const match = bearer.match(/^Bearer (.*)$/)\n      if (match) this.updateToken(match[1])\n    }\n    let body: T = {} as any\n    const contentType = res.headers.get(\"Content-Type\")\n    if (contentType && contentType.includes(\"application/json\")) {\n      body = await res.json()\n    }\n    if (res.status < 200 || res.status > 299) throw new ApiError(req, res, body)\n    return body\n  }\n\n  async request<T>(req: ApiRequest, intercept: ApiRequest.InterceptCallback<T>|undefined) {\n    const init: RequestInit = {\n      method: req.method,\n      headers: this.commonHeaders(req.getHeaders())\n    }\n    if (req.hasBody()) init.body = req.getBody()\n    const res = await fetch(`${this.host}/api${req.getActualPath()}`, init)\n    const body = await this.responseHandler<T>(req, res)\n    if (typeof intercept !== \"function\") return body\n    await intercept(res, body)\n    return body\n  }\n\n  /** creates a GET request */\n  get<T>() {\n    return new ApiRequest<T>(this, \"GET\")\n  }\n\n  /** creates a POST request */\n  post<T>() {\n    return new ApiRequest<T>(this, \"POST\")\n  }\n\n  /** creates a DELETE request */\n  delete<T>() {\n    return new ApiRequest<T>(this, \"DELETE\")\n  }\n\n  /** creates a PATCH request */\n  patch<T>() {\n    return new ApiRequest<T>(this, \"PATCH\")\n  }\n\n}\n\nexport namespace Api {\n\n  export type OnToken = (token: string|null) => any\n}","import store from \"../store\"\nimport { AUTH } from '../store/modules/auth'\nimport { Api } from \"./api/Api\"\n\nexport class VeniceRcon {\n  readonly api: Api\n\n  constructor() {\n    this.api = new Api()\n  }\n\n  login(username: string, password: string) {\n    return this.api.post<VeniceRcon.TokenResponse>()\n      .path(`/auth/login`)\n      .body({ username, password })\n      .intercept((res, { token }) => this.api.updateToken(token))\n      .send()\n  }\n\n  useInviteToken(token: string) {\n    return this.api.post()\n      .path(\"/auth/invite\")\n      .body({ token })\n      .send()\n  }\n\n  register(username: string, password: string, token: string) {\n    return this.api.post<VeniceRcon.TokenResponse>()\n      .path(\"/auth/invite\")\n      .body({ username, password, token })\n      .send()\n  }\n\n  forgotPassword(email: string) {\n    return this.api.post()\n      .path(\"/auth/forgot-password\")\n      .body({ email })\n      .send()\n  }\n\n  logout() {\n    this.api.updateToken(null)\n  }\n\n  async whoami() {\n    const response = await this.api.get<VeniceRcon.WhoamiResponse>().path(\"/auth/whoami\").send()\n    store.commit(AUTH.UPDATE_WHOAMI, response)\n    return response\n  }\n\n  updateSelf(currentPassword: string, props: VeniceRcon.UpdateUserProps) {\n    return this.api.post()\n      .path(\"/auth/update-self\")\n      .body({ ...props, currentPassword })\n      .send()\n  }\n\n  playerBinds() {\n    return this.api.get<VeniceRcon.PlayerType[]>()\n      .path(\"/auth/binding\")\n      .send()\n  }\n\n  playerSearch(name?: string, guid?: string) {\n    return this.api.post<VeniceRcon.PlayerType[]>()\n      .path(\"/auth/search-player\")\n      .body({ name, guid })\n      .send()\n  }\n\n  playerBind(playerId: number) {\n    return this.api.post<VeniceRcon.PlayerType[]>()\n      .path(\"/auth/binding\")\n      .body({ playerId })\n      .send()\n  }\n\n  playerUnbind(id: number) {\n    return this.api.delete<void>()\n      .path(\"/auth/binding/:id\", { id })\n      .send()\n  }\n\n  users() {\n    return this.api.get<VeniceRcon.Users>()\n      .path(\"/users\")\n      .send()\n  }\n\n  getUser(id: number) {\n    return this.api.get<VeniceRcon.User>()\n      .path(\"/users/:id\", { id })\n      .send()\n  }\n\n  deleteUser(id: number) {\n    return this.api.delete<void>()\n      .path(\"/users/:id\", { id })\n      .send()\n  }\n\n  patchUser(id: number, props: VeniceRcon.UpdateUserProps) {\n    return this.api.delete<VeniceRcon.User>()\n      .path(\"/users/:id\", { id })\n      .body(props)\n      .send()\n  }\n\n  userAddPermission(id: number, props: VeniceRcon.AddPermissionProps) {\n    return this.api.post<VeniceRcon.User>()\n      .path(\"/users/:id/permissions\", { id })\n      .body(props)\n      .send()\n  }\n\n  userDelPermission(id: number, permId: number) {\n    return this.api.delete<VeniceRcon.User>()\n      .path(\"/users/:id/permissions/:permId\", { id, permId })\n      .send()\n  }\n\n  userUpdatePermission(id: number, permId: number, scopes: string[]) {\n    return this.api.patch<VeniceRcon.User>()\n      .path(\"/users/:id/permissions/:permId\", { id, permId })\n      .body({ scopes })\n      .send()\n  }\n\n  createUser(username: string, password: string) {\n    return this.api.post<VeniceRcon.User>()\n      .path(\"/users\")\n      .body({ username, password })\n      .send()\n  }\n\n  repositories() {\n    return this.api.get<VeniceRcon.Repositories>()\n      .path(\"/repository\")\n      .send()\n  }\n\n  getRepository(id: number) {\n    return this.api.get<VeniceRcon.Repository>()\n      .path(\"/repository/:id\", { id })\n      .send()\n  }\n\n  createRepository(props: VeniceRcon.CreateRepositoryProps) {\n    return this.api.post<VeniceRcon.Repository>()\n      .path(\"/repository\")\n      .body(props)\n      .send()\n  }\n\n  deleteRepository(id: number) {\n    return this.api.delete<void>()\n      .path(\"/repository/:id\", { id })\n      .send()\n  }\n\n  updateRepository(id: number, props: VeniceRcon.UpdateRepositoryProps) {\n    return this.api.patch<VeniceRcon.Repository>()\n      .path(\"/repository/:id\", { id })\n      .body(props)\n      .send()\n  }\n\n  instances() {\n    return this.api.get<VeniceRcon.Instances>()\n      .path(\"/instances\")\n      .send()\n  }\n\n  createInstance(props: VeniceRcon.CreateInstanceProps) {\n    return this.api.post<VeniceRcon.Instance>()\n      .path(\"/instances\")\n      .body(props)\n      .send()\n  }\n\n  getInstance(id: number) {\n    return this.api.get<VeniceRcon.Instance>()\n      .path(\"/instances/:id\", { id })\n      .send()\n  }\n\n  updateInstance(id: number, props: VeniceRcon.UpdateInstanceProps) {\n    return this.api.patch<VeniceRcon.Instance>()\n      .path(\"/instances/:id\", { id })\n      .body(props)\n      .send()\n  }\n\n  deleteInstance(id: number) {\n    return this.api.delete<void>()\n      .path(\"/instances/:id\", { id })\n      .send()\n  }\n\n  startInstance(id: number) {\n    return this.api.patch<void>()\n      .path(\"/instances/:id/start\", { id })\n      .send()\n  }\n\n  stopInstance(id: number) {\n    return this.api.patch<void>()\n      .path(\"/instances/:id/stop\", { id })\n      .send()\n  }\n\n  rawCommand(id: number, words: string[]) {\n    return this.api.post<string[]>()\n      .path(\"/instances/:id/raw\", { id })\n      .body({ words })\n      .send()\n  }\n\n  messagePlayers(id: number, props: VeniceRcon.MessagePlayerProps) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/message\", { id })\n      .body(props)\n      .send()\n  }\n\n  setTicketCount(id: number, props: VeniceRcon.SetTeamTicketCountProps) {\n    return this.api.patch<void>()\n      .path(\"/instances/:id/teamtickets\", { id })\n      .body(props)\n      .send()\n  }\n\n  instanceUsers(id: number) {\n    return this.api.get<VeniceRcon.InstanceUsers>()\n      .path(\"/instances/:id/users\", { id })\n      .send()\n  }\n\n  getInstanceUser(id: number, userId: number) {\n    return this.api.get<VeniceRcon.InstanceUser>()\n      .path(\"/instances/:id/users/:userId\", { id, userId })\n      .send()\n  }\n\n  deleteInstanceUser(id: number, userId: number) {\n    return this.api.delete<void>()\n      .path(\"/instances/:id/users/:userId\", { id, userId })\n      .send()\n  }\n\n  updateInstanceUserPermissions(id: number, userId: number, scopes: string[]) {\n    return this.api.patch<VeniceRcon.InstanceUser>()\n      .path(\"/instances/:id/users/:userId/permissions\", { id, userId })\n      .body({ scopes })\n      .send()\n  }\n\n  instanceUserInvites(id: number) {\n    return this.api.get<VeniceRcon.InstanceUsers>()\n      .path(\"/instances/:id/users/invites\", { id })\n      .send()\n  }\n\n  createInstanceUserInvite(id: number, scopes: string[]) {\n    return this.api.post<{ token: string }>()\n      .path(\"/instances/:id/users/invites\", { id })\n      .body({ scopes })\n      .send()\n  }\n\n  instancePlayers(id: number) {\n    return this.api.get<VeniceRcon.InstancePlayers>()\n      .path(\"/instances/:id/players\", { id })\n      .send()\n  }\n\n  getInstancePlayer(id: number, guid: string) {\n    return this.api.get<VeniceRcon.InstancePlayer>()\n      .path(\"/instances/:id/players/:guid\", { id, guid })\n      .send()\n  }\n\n  moveInstancePlayer(id: number, guid: string, props: VeniceRcon.InstancePlayerMoveProps) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/players/:guid/move\", { id, guid })\n      .body(props)\n      .send()\n  }\n\n  messageInstancePlayer(id: number, guid: string, props: VeniceRcon.InstancePlayerMessageProps) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/players/:guid/message\", { id, guid })\n      .body(props)\n      .send()\n  }\n\n  banInstancePlayer(id: number, guid: string, props: VeniceRcon.InstancePlayerBanProps) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/players/:guid/ban\", { id, guid })\n      .body(props)\n      .send()\n  }\n\n  kickInstancePlayer(id: number, guid: string, props: VeniceRcon.InstancePlayerKickProps) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/players/:guid/kick\", { id, guid })\n      .body(props)\n      .send()\n  }\n\n  killInstancePlayer(id: number, guid: string, props: VeniceRcon.InstancePlayerKillProps) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/players/:guid/kill\", { id, guid })\n      .body(props)\n      .send()\n  }\n\n  instanceBans(id: number) {\n    return this.api.get<VeniceRcon.Bans>()\n      .path(\"/instances/:id/bans\", { id })\n      .send()\n  }\n\n  createInstanceBan(id: number, props: VeniceRcon.InstanceBanCreateProps) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/bans\", { id })\n      .body(props)\n      .send()\n  }\n\n  deleteInstanceBan(id: number, props: VeniceRcon.InstanceBanDeleteProps) {\n    return this.api.delete<void>()\n      .path(\"/instances/:id/bans/:subset/:subsetId\", { id, ...props })\n      .send()\n  }\n\n  instanceMaps(id: number) {\n    return this.api.get<VeniceRcon.Maps>()\n      .path(\"/instances/:id/maps\", { id })\n      .send()\n  }\n\n  addInstanceMap(id: number, props: VeniceRcon.InstanceMapCreateProps) {\n    return this.api.post<VeniceRcon.Maps>()\n      .path(\"/instances/:id/maps\", { id })\n      .body(props)\n      .send()\n  }\n\n  getInstanceMapInfo(id: number) {\n    return this.api.get<VeniceRcon.MapInfo>()\n      .path(\"/instances/:id/maps/current\", { id })\n      .send()\n  }\n\n  instanceMapEndRound(id: number) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/maps/endRound\", { id })\n      .send()\n  }\n\n  instanceMapNextRound(id: number) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/maps/nextRound\", { id })\n      .send()\n  }\n\n  instanceMapRestartRound(id: number) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/maps/restartRound\", { id })\n      .send()\n  }\n\n  getInstanceMap(id: number, index: number) {\n    return this.api.post<VeniceRcon.Map>()\n      .path(\"/instances/:id/maps/:index\", { id, index })\n      .send()\n  }\n\n  deleteInstanceMap(id: number, index: number) {\n    return this.api.delete<void>()\n      .path(\"/instances/:id/maps/:index\", { id, index })\n      .send()\n  }\n\n  setNextInstanceMap(id: number, index: number) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/maps/:index/next\", { id, index })\n      .send()\n  }\n\n  moveInstanceMap(id: number, index: number, toIndex: number) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/maps/:index/position/:toIndex\", { id, index, toIndex })\n      .send()\n  }\n\n  instanceReservedSlots(id: number) {\n    return this.api.get<VeniceRcon.ReservedSlots>()\n      .path(\"/instances/:id/reservedslot\", { id })\n      .send()\n  }\n\n  addInstanceReservedSlot(id: number, name: string) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/reservedslot\", { id })\n      .body({ name })\n      .send()\n  }\n\n  deleteInstanceReservedSlot(id: number, name: string) {\n    return this.api.delete<void>()\n      .path(\"/instances/:id/reservedslot/:name\", { id, name })\n      .send()\n  }\n\n  instanceVariables(id: number) {\n    return this.api.get<VeniceRcon.Variables>()\n      .path(\"/instances/:id/vars\", { id })\n      .send()\n  }\n\n  updateInstanceVariables(id: number, props: VeniceRcon.Variables) {\n    return this.api.patch<void>()\n      .path(\"/instances/:id/vars\", { id })\n      .body(props)\n      .send()\n  }\n\n  instanceVariableOptions(id: number) {\n    return this.api.get<VeniceRcon.VariableOptions>()\n      .path(\"/instances/:id/vars/options\", { id })\n      .send()\n  }\n\n  instanceEventKills(id: number) {\n    return this.api.get<VeniceRcon.KillEvents>()\n      .path(\"/instances/:id/kill\", { id })\n      .send()\n  }\n\n  instanceEventChatMessages(id: number) {\n    return this.api.get<VeniceRcon.ChatMessageEvents>()\n      .path(\"/instances/:id/chat\", { id })\n      .send()\n  }\n\n  instanceMods(id: number) {\n    return this.api.get<VeniceRcon.Mods>()\n      .path(\"/instances/:id/mods\", { id })\n      .send()\n  }\n\n  instanceModsReload(id: number) {\n    return this.api.patch<void>()\n      .path(\"/instances/:id/mods/reload\", { id })\n      .send()\n  }\n\n  instanceModsClear(id: number) {\n    return this.api.patch<void>()\n      .path(\"/instances/:id/mods/clear\", { id })\n      .send()\n  }\n\n  instanceModEnable(id: number, mod: string) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/mods/:mod\", { id, mod })\n      .send()\n  }\n\n  instanceModDisable(id: number, mod: string) {\n    return this.api.delete<void>()\n      .path(\"/instances/:id/mods/:mod\", { id, mod })\n      .send()\n  }\n\n  instanceLogs(id: number) {\n    return this.api.get<VeniceRcon.LogMessages>()\n      .path(\"/instances/:id/logs/instance\", { id })\n      .send()\n  }\n\n  instancePluginLogs(id: number, plugin: string = \"\") {\n    return this.api.get<VeniceRcon.LogMessages>()\n      .path(\"/instances/:id/logs/plugins/:plugin\", { id, plugin })\n      .send()\n  }\n\n  instancePlugins(id: number) {\n    return this.api.get<VeniceRcon.InstancePlugins>()\n      .path(\"/instances/:id/plugins\", { id })\n      .send()\n  }\n\n  instancePluginStart(id: number, pluginId: number) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/plugins/:pluginId/start\", { id, pluginId })\n      .send()\n  }\n\n  instancePluginStop(id: number, pluginId: number) {\n    return this.api.post<void>()\n      .path(\"/instances/:id/plugins/:pluginId/start\", { id, pluginId })\n      .send()\n  }\n\n  instancePluginUpdateConfig(id: number, pluginId: number, config: Record<string, any>) {\n    return this.api.patch<void>()\n      .path(\"/instances/:id/plugins/:pluginId/config\", { id, pluginId })\n      .body(config)\n      .send()\n  }\n\n  deleteInstancePlugin(id: number, uuid: string) {\n    return this.api.delete<void>()\n      .path(\"/instances/:id/plugins/:uuid\", { id, uuid })\n      .send()\n  }\n\n  instancePluginStore(id: number) {\n    return this.api.get<VeniceRcon.RepositoryPlugins>()\n      .path(\"/instances/:id/plugins/store\", { id })\n      .send()\n  }\n\n  instancePluginStoreDownload(id: number, uuid: string) {\n    return this.api.post<VeniceRcon.RepositoryPlugins>()\n      .path(\"/instances/:id/plugins/store/:uuid\", { id, uuid })\n      .send()\n  }\n\n}\n\nexport namespace VeniceRcon {\n\n  export enum InstanceState {\n    UNKNOWN = 0,\n    CONNECTING = 1,\n    CONNECTED = 2,\n    DISCONNECTING = 3,\n    DISCONNECTED = 4,\n    RECONNECTING = 5,\n    RECONNECTING_FAILED = 6\n  }\n\n  export enum Subset {\n    SQUAD = \"squad\",\n    TEAM = \"team\",\n    PLAYER = \"player\",\n    ALL = \"all\"\n  }\n\n  export type UpdateUserProps = {\n    email: string|null\n    password: string|null\n  }\n\n  export type Permission = {\n    id: number,\n    instance: number|null,\n    root: boolean,\n    scopes: string[]\n  }\n\n  export type TokenResponse = {\n    token: string\n  }\n\n  export type JWTToken = {\n    v: number\n    id: number,\n    username: string,\n    iat: number\n  }\n\n  export type PlayerType = {\n    id: number\n    guid: string\n    name: string\n  }\n\n  export type WhoamiResponse = {\n    email: string|null\n    permissions: Permission[]\n    token: JWTToken\n  }\n\n  export type Users = User[] \n\n  export type User = {\n    id: number\n    created: string\n    modified: string\n    username: string\n    email: string|null\n    permissions: Permission[]\n  }\n\n  export type AddPermissionProps = {\n    root: boolean\n    instanceId?: number\n    scopes: string[]\n  }\n\n  export type Repositories = Repository[] \n\n  export type Repository = {\n    id: number\n    created: number\n    modified: number\n    type: string\n    url: string\n    branch: string\n    headers: string\n    enabled: boolean\n    reloadTime: number\n    repositoryUrl: string\n    plugins: RepositoryPlugins\n  }\n\n  export type RepositoryPlugins = RepositoryPlugin[]\n  export type RepositoryPlugin = {\n    name: string\n    description: string\n    version: string\n    uuid: string\n  }\n\n  export type CreateRepositoryProps = {\n    url: string,\n    branch?: string,\n    headers?: string\n  }\n\n  export type UpdateRepositoryProps = {\n    url?: string,\n    branch?: string,\n    headers?: string,\n    enabled?: true\n  }\n\n  export type Instances = Instance[]\n  \n  export type Instance = {\n    id: number\n    host: string\n    port: number\n    state: InstanceState\n    serverinfo: ServerInfo\n    players: Record<string, Player>\n    maps: Maps\n    version: \"BF3\"|\"VU\"\n    vars: Record<string, string>\n    mapInfo: MapInfo\n  }\n\n  export type ServerInfo = {\n    name: string\n    slots: number\n    totalSlots: number\n    mode: string\n    map: string\n    roundsPlayed: number\n    roundsTotal: number\n    scores: number[]\n    targetScore: number\n    onlineState: string\n    ranked: boolean\n    punkBuster: boolean\n    password: boolean\n    uptime: number\n    roundTime: number\n    address: string\n    punkBusterVersion: string\n    joinQueueEnabled: boolean\n    region: string\n    closestPingSite: string\n    country: string\n    matchmaking: boolean\n  }\n\n  export type Player = {\n    //@todo\n  }\n\n  export type MapInfo = {\n    index: number\n    next: number\n  }\n\n  export type Maps = Map[]\n\n  export type Map = {\n    map: string\n    mode: string\n    rounds: number\n    index: number\n  }\n\n  export type CreateInstanceProps = {\n    test?: boolean\n    host: string\n    port: number\n    password: string\n  }\n\n  export type UpdateInstanceProps = {\n    host: string\n    port: number\n    password: string\n  }\n\n  export type MessagePlayerProps = {\n    message: string\n    subset: Subset\n    subsetId?: string\n    yell?: true\n    yellDuration?: number\n  }\n\n  export type SetTeamTicketCountProps = {\n    team: number\n    count: number\n  }\n\n  export type InstanceUsers = InstanceUser[]\n\n  export type InstanceUser = {\n    permId: number,\n    userId: number,\n    modified: string\n    created: string\n    username: string\n    scopes: string[]\n  }\n\n  export type InstanceInvites = InstanceInvite[]\n\n  export type InstanceInvite = {\n    id: 0\n    created: string\n    modified: string\n    token: string,\n    issuer: {\n      id: 0\n      username: string\n    },\n    user?: {\n      id: 0\n      username: string\n    }\n    instanceId: 0\n  }\n\n  export type InstancePlayers = InstancePlayer[]\n\n  export type InstancePlayer = {\n    name: string\n    guid: string\n    playerGuid?: string\n    teamId: number\n    squadId: number\n    kills: number\n    deaths: number\n    score: string\n    rank: string\n    ping: number\n    spectator: number\n    ip: string\n  }\n\n  export type InstancePlayerMoveProps = {\n    teamId: number\n    squadId: number\n    kill: boolean\n  }\n\n  export type InstancePlayerMessageProps = {\n    subset: Subset.SQUAD|Subset.TEAM|Subset.PLAYER,\n    message: string,\n    yell?: boolean,\n    yellDuration?: number\n  }\n\n  export type InstancePlayerBanProps = {\n    subset: \"guid\"|\"name\"|\"ip\"\n    message: string\n    yell?: boolean\n    yellDuration?: number\n  }\n\n  export type InstancePlayerKickProps = {\n    reason: string\n  }\n\n  export type InstancePlayerKillProps = {\n    reason: string\n  }\n\n  export type Bans = Ban[]\n  \n  export type Ban = {\n    subset: string[]\n    reason: string\n    timeout: any\n  }\n\n  export type InstanceBanCreateProps = {\n    subset: [\"guid\"|\"name\"|\"ip\", string]\n    reason: string\n    durationType: \"rounds\"|\"seconds\"|\"perm\"\n    duration: number\n  }\n\n  export type InstanceBanDeleteProps = {\n    subset: \"guid\"|\"name\"|\"ip\"\n    subsetId: string\n  }\n\n  export type InstanceMapCreateProps = {\n    map: string\n    mode: string\n    rounds: number\n    index?: number\n  }\n  \n  export type ReservedSlots = string[]\n\n  export type Variables = {\n    [key: string]: string\n  }\n\n  export type VariableOptions = {\n    getters: string[]\n    setters: string[]\n  }\n\n  export type KillEvents = KillEvent[]\n\n  export type KillEvent = {\n    id: number\n    instance: number\n    weapon: string\n    headshot: boolean\n    created: string\n    killer?: PlayerSource\n    killed: PlayerSource\n  }\n\n  export type ChatMessageEvents = KillEvent[]\n\n  export type ChatMessageEvent = {\n    id: number\n    instance: number\n    message: string\n    subset: Subset\n    created: string\n    player: PlayerSource\n  }\n\n  export type PlayerSource = {\n    name: string\n    guid: string\n  }\n\n  export type Mods = {\n    available: string[],\n    running: string[],\n    next: string[]\n  }\n\n  export type LogMessages = LogMessage[]\n\n  export type LogMessage = {\n    instanceId: number\n    message: string\n    level: string\n    source: number\n    sourceLocation: number\n    created: string\n  }\n  \n  export type InstancePlugins = InstancePlugin[]\n\n  export type InstancePlugin = {\n    id: number\n    storeVersion: string\n    uuid: string\n    name: string\n    state: number\n    meta: InstancePluginMeta\n    config: Record<string, any>\n  }\n\n  export type InstancePluginMeta = {\n    name: string\n    description: string\n    version: string\n    backend: string\n    entry: string\n    dependency: string[]\n    vars: VariableConfig[]\n  }\n\n  export type VariableConfig = {\n    name: string\n    description: string\n    type: \"string\"|\"number\"|\"boolean\"|\"strings\"|\"select\"|\"array\"\n    multiline?: boolean\n    default: any\n    options?: string[]\n    conditions: VariableCondition\n    vars?: VariableConfig\n  }\n\n  export type VariableCondition = {\n    //@todo\n  }\n}","import { VeniceRcon } from \"./VeniceRcon\"\nexport { VeniceRcon } from \"./VeniceRcon\"\n\nexport default new VeniceRcon()\n","import { Module, ActionTree, MutationTree, GetterTree } from \"vuex\"\nimport type { rootState } from \"../\"\nimport api from '../../api'\nimport { AUTH } from './auth'\n\nconst DEFAULT_ENDPOINT = \"http://localhost:8000\"\n\nexport enum APP {\n  INITIALIZE = \"APP_INITIALIZE\",\n  ADD_LOCATION = \"APP_ADD_LOCATION\",\n  DEL_LOCATION = \"APP_DEL_LOCATION\",\n  SELECT_ENDPOINT = \"APP_SELECT_ENDPOINT\",\n  MESSAGE = \"APP_MESSAGE\"\n}\n\nexport type AppState = {\n  initialized: boolean\n  endpoints: string[]\n  endpoint: number\n  message: {\n    type: string\n    content: string\n  }|null\n}\n\nfunction getEndpoints(): Pick<AppState, \"endpoint\"|\"endpoints\"> {\n  const store = localStorage.getItem(\"endpoints\")\n  let endpoints = store ? JSON.parse(store) : [DEFAULT_ENDPOINT]\n  if (!Array.isArray(endpoints)) endpoints = [DEFAULT_ENDPOINT]\n  const endpoint = parseInt(localStorage.getItem(\"endpoint\") || \"0\" , 10)\n  return { endpoints, endpoint }\n}\n\nexport function defaultState(): AppState {\n  return {\n    initialized: false,\n    ...getEndpoints(),\n    message: null\n  }\n}\n\nconst actions: ActionTree<AppState, rootState> = {\n  async [APP.INITIALIZE]({ dispatch, commit, rootState }) {\n    if (!rootState.auth.token) return commit(APP.INITIALIZE)\n    try {\n      await api.whoami()\n      commit(APP.INITIALIZE)\n    } catch (e) {\n      await dispatch(AUTH.LOGOUT)\n      commit(APP.INITIALIZE)\n    }\n  },\n  async [APP.ADD_LOCATION]({ commit }, props) {\n    commit(APP.ADD_LOCATION, props)\n  },\n  async [APP.SELECT_ENDPOINT]({ commit, dispatch }) {\n    dispatch(AUTH.LOGOUT)\n    commit(APP.SELECT_ENDPOINT)\n  },\n  [APP.MESSAGE]({ commit }, props) {\n    commit(APP.MESSAGE, props)\n  }\n}\n\nconst mutations: MutationTree<AppState> = {\n  [APP.INITIALIZE](state, trigger: boolean = true) {\n    state.initialized = trigger\n  },\n  [APP.SELECT_ENDPOINT](state, props: { name: string }) {\n    const index = state.endpoints.reduce((a, v, i) => v === props.name ? i : a, 0)\n    state.endpoint = index\n    localStorage.setItem(\"endpoint\", index.toString(10))\n  },\n  [APP.ADD_LOCATION](state, props: { url: string }) {\n    console.log(state, state.endpoints)\n    if (state.endpoints.includes(props.url)) return\n    state.endpoint = state.endpoints.push(props.url) - 1\n    localStorage.setItem(\"endpoints\", JSON.stringify(state.endpoints))\n  },\n  [APP.MESSAGE](state, { type, content }) {\n    state.message = { type, content }\n  }\n}\n\nconst getters: GetterTree<AppState, rootState> = {\n  apiEndpointUrl: state => state.endpoints[state.endpoint]\n}\n\nconst store: Module<AppState, rootState> = {\n  state: defaultState(),\n  actions,\n  mutations,\n  getters\n}\n\nexport default store","import { Module, ActionTree, MutationTree, GetterTree } from \"vuex\"\nimport { rootState } from \"../\"\nimport { ChatMessage, ConsoleEvent } from \"../../socket\"\nimport { Instance } from \"../../../types/Instance\"\nimport { AUTH } from \"./auth\"\n\nconst MESSAGE_LIMIT = 100\nconst KILL_LIMIT = 100\nconst CONSOLE_LIMIT = 200\n\nexport enum INSTANCE {\n  ADD = \"INSTANCE_ADD\",\n  DEL = \"INSTANCE_DEL\",\n  UPDATE = \"INSTANCE_UPDATE\",\n  ADD_CHAT = \"INSTANCE_ADD_CHAT\",\n  ADD_KILL = \"INSTANCE_ADD_KILL\",\n  ADD_CONSOLE = \"INSTANCE_ADD_CONSOLE\"\n}\n\nexport type InstanceState = {\n  instances: Instance[],\n  messages: { id: number, messages: ChatMessage[] }[]\n  console: { id: number, messages: Pick<ConsoleEvent, \"type\"|\"words\">[] }[]\n}\n\nfunction defaultState(): InstanceState {\n  return {\n    instances: [],\n    messages: [],\n    console: []\n  }\n}\n\n\nconst actions: ActionTree<InstanceState, rootState> = {\n  [INSTANCE.ADD]({ commit }, instance) {\n    commit(INSTANCE.ADD, instance)\n  },\n  [INSTANCE.DEL]({ commit }, props) {\n    commit(INSTANCE.DEL, props)\n  },\n  [INSTANCE.UPDATE]({ commit }, { changes, id }) {\n    changes.forEach((change: any) => commit(INSTANCE.UPDATE, { id, change })) \n  },\n  [INSTANCE.ADD_CHAT]({ commit }, { messages }: { messages: ChatMessage[] }) {\n    messages.forEach(message => commit(INSTANCE.ADD_CHAT, { message }))\n  },\n  [INSTANCE.ADD_CONSOLE]({ commit }, event: ConsoleEvent) {\n    commit(INSTANCE.ADD_CONSOLE, event)\n  }\n}\n\nconst mutations: MutationTree<InstanceState> = {\n  [AUTH.LOGOUT](state) {\n    Object.assign(state, defaultState())\n  },\n  [INSTANCE.ADD](state, instance) {\n    if (state.instances.some(({ id }) => id === instance.id)) return\n    state.instances.push(instance)\n  },\n  [INSTANCE.DEL](state, { id }) {\n    state.instances = state.instances.filter(instance => instance.id !== id)\n  },\n  [INSTANCE.UPDATE](state, { id, change }) {\n    const instance = state.instances.find(instance => instance.id === id)\n    if (!instance) return\n    let obj: any = instance\n    const path = change[0].split(\".\")\n    path.forEach((key: string, index: number) => {\n      if (index === path.length - 1) {\n        if (change[1] === null) {\n          delete obj[key]\n        } else {\n          obj[key] = change[1]\n        }\n      } else {\n        if (typeof obj[key] !== \"object\") Object.assign(obj, { [key]: {} })\n        obj = obj[key]\n      }\n    })\n  },\n  [INSTANCE.ADD_CHAT](state, { message }: { message: ChatMessage }) {\n    const { instance } = message\n    const messages = state.messages.find(msg => msg.id === instance)\n    if (messages) {\n      messages.messages = [message, ...messages.messages].slice(0, MESSAGE_LIMIT)\n    } else {\n      state.messages.unshift({ id: instance, messages: [message] })\n    }\n  },\n  [INSTANCE.ADD_CONSOLE](state, event: ConsoleEvent) {\n    const msgs = state.console.find(c => c.id === event.id)\n    const { type, words } = event\n    if (msgs) {\n      msgs.messages = [{ type, words }, ...msgs.messages].slice(0, CONSOLE_LIMIT)\n    } else {\n      state.console.unshift({ id: event.id, messages: [{ type, words }] })\n    }\n  }\n}\n\nconst getters: GetterTree<InstanceState, rootState> = {\n  getInstance(state) {\n    return (id: number) => {\n      const instance = state.instances.find(instance => instance.id === id)\n      if (!instance) throw new Error(`could not find instance with id ${id}!`)\n      return instance\n    }\n  },\n  getInstanceState(state, getters) {\n    return (id: number) => {\n      const instance = getters.getInstance(id)\n      switch (instance.state) {\n        default:\n        case 0: return \"Unknown\"\n        case 1: return \"Connecting\"\n        case 2: return \"Connected\"\n        case 3: return \"Disconnecting\"\n        case 4: return \"Disconnected\"\n        case 5: return \"Reconnecting\"\n      }\n    }\n  }\n\n}\n\nconst store: Module<InstanceState, rootState> = {\n  state: defaultState(),\n  actions,\n  mutations,\n  getters\n}\n\nexport default store","import { createStore } from \"vuex\"\nimport authStore, { AuthState } from \"./modules/auth\"\nimport appStore, { AppState } from \"./modules/app\"\nimport instanceStore, { InstanceState } from \"./modules/instances\"\n\nexport type rootState = {\n  auth: AuthState,\n  app: AppState,\n  instances: InstanceState\n}\n\nconst store = createStore({\n  strict: true,\n  state: {} as rootState,\n  modules: {\n    auth: authStore,\n    app: appStore,\n    instances: instanceStore\n  }\n})\n\nexport default store","\nimport { defineComponent } from \"vue\"\nimport store from \"./services/store\"\nimport { APP } from \"./services/store/modules/app\"\n\nexport default defineComponent({\n  computed: {\n    initialized: () => store.state.app.initialized\n  },\n  async mounted() {\n    await store.dispatch(APP.INITIALIZE)\n  }\n})\n\n","import { render } from \"./App.vue?vue&type=template&id=8ae4b25e\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <socket-component />\n  <router-view></router-view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport SocketComponent from \"../../services/socket\"\n\nexport default defineComponent({\n  components: { SocketComponent }\n})\n</script>","import { Manager, Socket } from \"socket.io-client\"\nimport store from \"../store\"\nimport { INSTANCE } from \"../store/modules/instances\"\nimport { Instance } from \"../../types/Instance\"\n//@ts-expect-error \nimport { useToast } from \"primevue/usetoast\"\nimport { defineComponent } from 'vue'\nimport api from '../api'\n\nconst DEFAULT_OPTIONS = {\n  autoConnect: false,\n  transports: [\"websocket\"]\n}\n\nexport default defineComponent({\n  name: \"SocketManager\",\n  render: () => \"\",\n  data() {\n    return {\n      manager: new Manager(store.getters.apiEndpointUrl, DEFAULT_OPTIONS),\n      toast: useToast(),\n      unwatch: undefined as undefined|(() => void)\n    }\n  },\n  mounted() {\n    this.unwatch = store.watch((state, getters) => getters.loggedIn, loggedIn => {\n      if (loggedIn) return this.connect()\n      this.disconnect()\n    })\n    if (store.getters.loggedIn) this.connect()\n  },\n  unmounted() {\n    if (this.unwatch) this.unwatch()\n  },\n  methods: {\n    connect() {\n      this.manager = new Manager(store.getters.apiEndpointUrl, DEFAULT_OPTIONS)\n      const auth_token = store.state.auth.token\n      socket = this.manager.socket(\"/\", { auth: { auth_token }})\n      this.registerEvents(socket)\n      socket.connect()\n    },\n    disconnect() {\n      socket.disconnect()\n    },\n    reconnect() {\n      this.disconnect()\n      return this.connect()\n    },\n    registerEvents(socket: Socket) {\n      socket.on(\"INSTANCE#ADD\", (event: InstanceAddEvent) => {\n        store.dispatch(INSTANCE.ADD, event.state)\n      })    \n      socket.on(\"INSTANCE#UPDATE\", (event: InstanceUpdateEvent) => {\n        store.dispatch(INSTANCE.UPDATE, { id: event.id, changes: event.changes })\n      })    \n      socket.on(\"INSTANCE#REMOVE\", (event: InstanceRemoveEvent) => {\n        store.dispatch(INSTANCE.DEL, { id: event.id })\n      })      \n      socket.on(\"INSTANCE#CHAT\", (event: ChatMessageEvent) => {\n        store.dispatch(INSTANCE.ADD_CHAT, { messages: event.messages })\n      })      \n      socket.on(\"INSTANCE#KILL\", (event: KillEvent) => {\n        console.log(\"INSTANCE#KILL\", event.kills)\n      })      \n      socket.on(\"INSTANCE#LOG\", (event: InstanceLogEvent) => {\n        console.log(\"INSTANCE#LOG\", event)\n        event.messages.forEach(({ level, instanceId, message }) => {\n          this.toast.add({\n            severity: level,\n            detail: message,\n            summary: `from ${instanceId}`,\n            life: 4000\n          })\n        })\n      })\n      socket.on(\"INSTANCE#CONSOLE\", (event: ConsoleEvent) => {\n        store.dispatch(INSTANCE.ADD_CONSOLE, event)\n      })\n      socket.on(\"SELF#PERMISSION_UPDATE\", () => api.whoami())\n      return socket\n    }\n  }\n})\n\nexport let socket: Socket\n\n\n\nexport interface InstanceAddEvent {\n  state: Instance\n}\n  \nexport interface InstanceUpdateEvent {\n  id: number\n  changes: [string, any]\n}\n\nexport interface InstanceRemoveEvent {\n  id: number\n}\n\nexport interface ChatMessage {\n  id: number\n  instance: number\n  name: string\n  message: string\n  subset: string\n}\n\nexport interface ChatMessageEvent {\n  messages: ChatMessage[]\n}\n\nexport interface KillEvent {\n  kills: {\n    created: string\n    headshot: boolean\n    id: number\n    instance: number\n    killed: { guid: string, name: string },\n    killer?: { guid: string, name: string },\n    weapon: string\n  }[]\n}\n\nexport interface InstanceLogEvent {\n  messages: {\n    created: string\n    instanceId: number\n    level: string\n    message: string\n    source: number\n    sourceLocation: string|null\n  }[]\n}\n\nexport interface ConsoleEvent {\n  id: number\n  type: \"send\"|\"receive\",\n  words: string[]\n}","\nimport { defineComponent } from \"vue\"\nimport SocketComponent from \"../../services/socket\"\n\nexport default defineComponent({\n  components: { SocketComponent }\n})\n","import { render } from \"./Main.vue?vue&type=template&id=61a98d28\"\nimport script from \"./Main.vue?vue&type=script&lang=ts\"\nexport * from \"./Main.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <PermissionCheck scopes=\"INSTANCE#CREATE\" class=\"p-grid\">\n      <div class=\"p-md-12\">\n        <AddInstance :open=\"createInstance\" :onClose=\"() => createInstance = false\" />\n        <Button label=\"Add\" icon=\"pi pi-plus\" @click=\"createInstance = true\" class=\"p-mr-2\" />\n      </div>\n    </PermissionCheck>\n    <div class=\"p-grid\">\n      <div\n        class=\"p-md-4 p-lg-3\"\n        v-for=\"instance in instances\"\n        v-bind:key=\"instance.id\"\n      >\n        <ServerCard v-bind:instance=\"instance\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store/\"\nimport ServerCard from \"../../components/ServerCard.vue\"\nimport AddInstance from \"../../components/AddInstance.vue\"\n\nexport default defineComponent({\n  data: () => ({\n    createInstance: false\n  }),\n  computed: {\n    instances: () => store.state.instances.instances\n  },\n  components: {\n    ServerCard,\n    AddInstance\n  }\n})\n</script>\n","<template>\n<Card class=\"p-shadow-10\">\n  <template #header>\n    <img\n      :alt=\"instance.serverinfo.map\"\n      :src=\"mapThumbnail\"\n    />\n  </template>\n  <template #title>\n    <p class=\"noWrap\">{{instance.name}}</p>\n  </template>\n  <template #subtitle>\n    <p>{{instance.host}}:{{instance.port}}</p>\n  </template>\n  <template #content>    \n    <p v-for=\"data in info\" v-bind:key=\"data.icon\">\n      <i :class=\"data.icon\"></i> \n      {{data.content}}\n    </p>\n  </template>\n  <template #footer>\n      <router-link :to=\"{ name: 'Instance', params: { instanceId: instance.id }}\" style=\"text-decoration:none\" >\n        <Button icon=\"pi pi-check\" label=\"Select\" />\n      </router-link>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#UPDATE\">\n        <ConfirmAction\n          :open=\"confirmStop\"\n          message=\"Are you sure that you want to stop the Instance?\"\n          :onClose=\"stop\"\n        />\n        <Button\n          v-if=\"instance.state === 2\"\n          icon=\"pi pi-power-off\"\n          label=\"Stop\"\n          class=\"p-button-danger\"\n          style=\"margin-left: .5em\"\n          @click=\"confirmStop = true\"\n        />\n      </PermissionCheck>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#UPDATE\">\n        <Button\n          v-if=\"instance.state === 4\"\n          icon=\"pi pi-play\"\n          label=\"Start\"\n          class=\"p-button-success\"\n          style=\"margin-left: .5em\"\n          @click=\"start()\"\n        />\n      </PermissionCheck>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#UPDATE\">\n        <Button\n          v-if=\"![2, 4].includes(instance.state)\"\n          :label=\"currentState\"\n          disabled\n          class=\"p-button-warning\"\n          style=\"margin-left: .5em\"\n        />\n      </PermissionCheck>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#DELETE\">\n        <ConfirmAction\n          :open=\"confirmDelete\"\n          :message=\"`Delete '${instance.serverinfo.name}'?`\"\n          :onClose=\"removeInstance\"\n        />\n        <Button\n          icon=\"pi pi-trash\"\n          @click=\"confirmDelete = true\"\n          class=\"p-button-danger\"\n          style=\"margin-left: .5em\"\n        />\n      </PermissionCheck>\n  </template>\n</Card>\n</template>\n\n<style scoped>\n  #noWrap {\n    overflow: hidden;\n    white-space: nowrap;\n  }\n</style>\n\n<script lang=\"ts\">\nimport { PropType, defineComponent } from \"vue\"\nimport api from \"../services/api\"\nimport store from \"../services/store\"\nimport { Instance } from \"../types/Instance\"\nimport { translate } from \"../services/battlefield/map\"\nimport ConfirmAction from \"../components/ConfirmAction.vue\"\n\nexport default defineComponent({\n  props: {\n    instance: {\n      type: Object as PropType<Instance>,\n      required: true,\n      validator: (instance: Instance) => !!instance.id\n    }\n  },\n  data: () => ({\n    confirmStop: false,\n    confirmDelete: false\n  }),\n  components: {\n    ConfirmAction\n  },\n  computed: {\n    instanceId(): number {\n      return this.instance.id\n    },\n    mapThumbnail(): string {\n      if (this.mapId === \"\") return require(\"../assets/images/maps/mp_001.jpg\")\n      try {\n        return require(`../assets/images/maps/${this.mapId.toLowerCase()}.jpg`)\n      } catch (e) {\n        console.warn(e)\n        return require(\"../assets/images/maps/mp_001.jpg\")\n      }\n    },\n    currentState() {\n      return store.getters.getInstanceState(this.instanceId)\n    },\n    hasPermission() {\n      return (scope: string) => store.getters.hasPermission(this.instanceId, scope)\n    },\n    mapId(): string {\n      return this.instance.serverinfo.map || \"\"\n    },\n    mapName() {\n      return translate\n    },\n    info(): {icon: string, content: string}[] {\n      const { serverinfo } = this.instance\n      return [{\n        icon: \"pi pi-cloud\",\n        content: this.instance.version === \"BF3\" ? \"Battlefield 3\" : \"Venice Unleashed\"\n      }, {\n        icon: \"pi pi-users pi-sm\",\n        content: `${serverinfo.slots}/${serverinfo.totalSlots}`\n      }, {\n        icon: \"pi pi-ticket\",\n        content: (\n          Array.isArray(serverinfo.scores) && serverinfo.scores.length > 0 ?\n          serverinfo.scores.join(\"/\") :\n          \"???/???\"\n        )\n      }, {\n        icon: \"pi pi-map-marker\",\n        content: this.mapName(serverinfo.map)\n      }, {\n        icon: \"pi pi-star-o\",\n        content: this.mapName(serverinfo.mode)\n      }]\n    }\n  },\n  methods: {\n    async stop(confirm: boolean) {\n      this.confirmStop = false\n      if (confirm) await api.stopInstance(this.instanceId)\n    },\n    start() {\n      return api.startInstance(this.instanceId)\n    },\n    removeInstance(confirm: boolean) {\n      this.confirmDelete = false\n      if (confirm) api.deleteInstance(this.instanceId)\n    }\n  }\n})\n</script>","export const maps: Record<string, string> = {\n  MP_001: \"Grand Bazaar\",\n  MP_003: \"Teheran Highway\",\n  MP_007: \"Caspian Border\",\n  MP_011: \"Seine Crossing\",\n  MP_012: \"Operation Firestorm\",\n  MP_013: \"Damavand Peak\",\n  MP_017: \"Noshahar Canals\",\n  MP_018: \"Kharg Island\",\n  MP_Subway: \"Operation Metro\",\n  XP1_001: \"Strike at Karkand\",\n  XP1_002: \"Gulf of Oman\",\n  XP1_003: \"Sharqi Peninsula\",\n  XP1_004: \"Wake Island\",\n  XP2_Factory: \"Scrapmetal\",\n  XP2_Office: \"Operation 925\",\n  XP2_Palace: \"Donya Fortress\",\n  XP2_Skybar: \"Ziba Tower\",\n  XP3_Desert: \"Bandar Desert\",\n  XP3_Alborz: \"Alborz Mountains\",\n  XP3_Shield: \"Armored Shield\",\n  XP3_Valley: \"Death Valley\",\n  XP4_Quake: \"Epicenter\",\n  XP4_FD: \"Markaz Monolith\",\n  XP4_Parl: \"Azadi Palace\",\n  XP4_Rubble: \"Talah Market\",\n  XP5_001: \"Operation Riverside\",\n  XP5_002: \"Nebandan Flats\",\n  XP5_003: \"Kiasar Railroad\",\n  XP5_004: \"Sabalan Pipeline\"\n}\n\n/**\n * translates a map id to a readable name\n * @param id the map id to use\n */\nexport const translate = (id: string) => id in maps ? maps[id] : id","<template>\n  <Dialog position=\"top\" :visible=\"open\">\n    <template #header>\n      Confirm Action\n    </template>\n    <i class=\"pi pi-exclamation-triangle\"></i> {{message}}\n    <template #footer>\n      <Button icon=\"pi pi-times\" label=\"No\" @click=\"close(false)\" />\n      <Button icon=\"pi pi-check\" label=\"Yes\" @click=\"close(true)\" autofocus/>\n    </template>\n  </Dialog>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\n\nexport default defineComponent({\n  props: {\n    open: Boolean,\n    message: String,\n    // eslint-disable-next-line no-unused-vars\n    onClose: Function as PropType<(confirm: boolean) => void>\n  },\n  components: {\n    Dialog\n  },\n  methods: {\n    close(confirm: boolean) {\n      if (typeof this.onClose !== \"function\") return\n      this.onClose(confirm)\n    }\n  }\n})\n</script>","\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\n\nexport default defineComponent({\n  props: {\n    open: Boolean,\n    message: String,\n    // eslint-disable-next-line no-unused-vars\n    onClose: Function as PropType<(confirm: boolean) => void>\n  },\n  components: {\n    Dialog\n  },\n  methods: {\n    close(confirm: boolean) {\n      if (typeof this.onClose !== \"function\") return\n      this.onClose(confirm)\n    }\n  }\n})\n","import { render } from \"./ConfirmAction.vue?vue&type=template&id=4c4ba6dc\"\nimport script from \"./ConfirmAction.vue?vue&type=script&lang=ts\"\nexport * from \"./ConfirmAction.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { PropType, defineComponent } from \"vue\"\nimport api from \"../services/api\"\nimport store from \"../services/store\"\nimport { Instance } from \"../types/Instance\"\nimport { translate } from \"../services/battlefield/map\"\nimport ConfirmAction from \"../components/ConfirmAction.vue\"\n\nexport default defineComponent({\n  props: {\n    instance: {\n      type: Object as PropType<Instance>,\n      required: true,\n      validator: (instance: Instance) => !!instance.id\n    }\n  },\n  data: () => ({\n    confirmStop: false,\n    confirmDelete: false\n  }),\n  components: {\n    ConfirmAction\n  },\n  computed: {\n    instanceId(): number {\n      return this.instance.id\n    },\n    mapThumbnail(): string {\n      if (this.mapId === \"\") return require(\"../assets/images/maps/mp_001.jpg\")\n      try {\n        return require(`../assets/images/maps/${this.mapId.toLowerCase()}.jpg`)\n      } catch (e) {\n        console.warn(e)\n        return require(\"../assets/images/maps/mp_001.jpg\")\n      }\n    },\n    currentState() {\n      return store.getters.getInstanceState(this.instanceId)\n    },\n    hasPermission() {\n      return (scope: string) => store.getters.hasPermission(this.instanceId, scope)\n    },\n    mapId(): string {\n      return this.instance.serverinfo.map || \"\"\n    },\n    mapName() {\n      return translate\n    },\n    info(): {icon: string, content: string}[] {\n      const { serverinfo } = this.instance\n      return [{\n        icon: \"pi pi-cloud\",\n        content: this.instance.version === \"BF3\" ? \"Battlefield 3\" : \"Venice Unleashed\"\n      }, {\n        icon: \"pi pi-users pi-sm\",\n        content: `${serverinfo.slots}/${serverinfo.totalSlots}`\n      }, {\n        icon: \"pi pi-ticket\",\n        content: (\n          Array.isArray(serverinfo.scores) && serverinfo.scores.length > 0 ?\n          serverinfo.scores.join(\"/\") :\n          \"???/???\"\n        )\n      }, {\n        icon: \"pi pi-map-marker\",\n        content: this.mapName(serverinfo.map)\n      }, {\n        icon: \"pi pi-star-o\",\n        content: this.mapName(serverinfo.mode)\n      }]\n    }\n  },\n  methods: {\n    async stop(confirm: boolean) {\n      this.confirmStop = false\n      if (confirm) await api.stopInstance(this.instanceId)\n    },\n    start() {\n      return api.startInstance(this.instanceId)\n    },\n    removeInstance(confirm: boolean) {\n      this.confirmDelete = false\n      if (confirm) api.deleteInstance(this.instanceId)\n    }\n  }\n})\n","import { render } from \"./ServerCard.vue?vue&type=template&id=d28a5ce4&scoped=true\"\nimport script from \"./ServerCard.vue?vue&type=script&lang=ts\"\nexport * from \"./ServerCard.vue?vue&type=script&lang=ts\"\n\nimport \"./ServerCard.vue?vue&type=style&index=0&id=d28a5ce4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-d28a5ce4\"\n\nexport default script","<template>\n  <Dialog position=\"top\" :visible=\"open\" :closable=\"false\">\n    <template #header>\n      Add Instance\n    </template>\n    <Message v-if=\"error\" severity=\"error\">{{error}}</Message>\n    <form @submit.prevent>\n      <div class=\"p-fluid\">\n        <div class=\"p-field\">\n          <label for=\"host\">Host</label>\n          <InputText id=\"host\" placeholder=\"example.com\" v-model=\"host\" />\n        </div>\n        <div class=\"p-field\">\n          <label for=\"port\">Port</label>\n          <InputNumber id=\"port\" placeholder=\"47200\" v-model=\"port\" :min=\"1024\" :max=\"65535\" :format=\"false\" />\n        </div>\n        <div class=\"p-field\">\n          <label for=\"password\">Password</label>\n          <InputText id=\"password\" v-model=\"password\" />\n        </div>\n      </div>\n    </form>\n    <template #footer>\n      <Button icon=\"pi pi-times\" label=\"Cancel\" @click=\"close()\" />\n      <Button icon=\"pi pi-question\" label=\"Test Connection\" :disabled=\"busy\" v-if=\"!tested\" @click=\"test()\" />\n      <Button icon=\"pi pi-check\" label=\"Add Server\" :disabled=\"busy\" v-if=\"tested\" @click=\"save()\" />\n    </template>\n  </Dialog>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\nimport api from \"../services/api\"\nimport Message from \"primevue/message\"\n\nconst initialState = () => ({\n    error: null,\n    busy: false,\n    tested: false,\n    host: \"\",\n    port: 47200,\n    password: \"\"\n})\n\nexport default defineComponent({\n  name: \"AddInstance\",\n  props: {\n    open: Boolean,\n    onClose: Function as PropType<() => void>\n  },\n  data: initialState,\n  components: {\n    Dialog,\n    Message\n  },\n  watch: {\n    host() { this.tested = false },\n    port() { this.tested = false },\n    password() { this.tested = false },\n  },\n  methods: {\n    /** gets the connection object */\n    getConnectionInfo(test: boolean = false) {\n      return { test, host: this.host, port: this.port, password: this.password }\n    },\n    /** closes the dialog */\n    close() {\n      if (typeof this.onClose !== \"function\") return\n      Object.assign(this, initialState())\n      this.onClose()\n    },\n    /** saves the connection */\n    async save() {\n      if (!this.tested) return\n      this.busy = true\n      try {\n        await api.createInstance(this.getConnectionInfo())\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n      this.close()\n    },\n    /** tests the connection */\n    async test() {\n      this.busy = true\n      try {\n        await api.createInstance(this.getConnectionInfo(true))\n        this.tested = true\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n    }\n  }\n})\n</script>","\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\nimport api from \"../services/api\"\nimport Message from \"primevue/message\"\n\nconst initialState = () => ({\n    error: null,\n    busy: false,\n    tested: false,\n    host: \"\",\n    port: 47200,\n    password: \"\"\n})\n\nexport default defineComponent({\n  name: \"AddInstance\",\n  props: {\n    open: Boolean,\n    onClose: Function as PropType<() => void>\n  },\n  data: initialState,\n  components: {\n    Dialog,\n    Message\n  },\n  watch: {\n    host() { this.tested = false },\n    port() { this.tested = false },\n    password() { this.tested = false },\n  },\n  methods: {\n    /** gets the connection object */\n    getConnectionInfo(test: boolean = false) {\n      return { test, host: this.host, port: this.port, password: this.password }\n    },\n    /** closes the dialog */\n    close() {\n      if (typeof this.onClose !== \"function\") return\n      Object.assign(this, initialState())\n      this.onClose()\n    },\n    /** saves the connection */\n    async save() {\n      if (!this.tested) return\n      this.busy = true\n      try {\n        await api.createInstance(this.getConnectionInfo())\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n      this.close()\n    },\n    /** tests the connection */\n    async test() {\n      this.busy = true\n      try {\n        await api.createInstance(this.getConnectionInfo(true))\n        this.tested = true\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n    }\n  }\n})\n","import { render } from \"./AddInstance.vue?vue&type=template&id=108baf63\"\nimport script from \"./AddInstance.vue?vue&type=script&lang=ts\"\nexport * from \"./AddInstance.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store/\"\nimport ServerCard from \"../../components/ServerCard.vue\"\nimport AddInstance from \"../../components/AddInstance.vue\"\n\nexport default defineComponent({\n  data: () => ({\n    createInstance: false\n  }),\n  computed: {\n    instances: () => store.state.instances.instances\n  },\n  components: {\n    ServerCard,\n    AddInstance\n  }\n})\n","import { render } from \"./Dashboard.vue?vue&type=template&id=7997ec4a\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=ts\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <AppMenu />\n    <h3>Instance</h3>\n    <pre>{{JSON.stringify(instance, null, 2)}}</pre>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport router from \"../../services/router\"\nimport AppMenu from \"../../components/AppMenu.vue\"\n\nexport default defineComponent({\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    },\n    instance() {\n      return store.state.instances.instances\n        //@ts-ignore\n        .find(instance => instance.id === this.instanceId)\n    }\n  },\n  components: {\n    AppMenu\n  }\n})\n</script>\n","<template>\n  <div>\n    <MenuBar :model=\"items\">\n      <template #start>\n          VeniceRcon\n      </template>\n      <template #end>\n        <Button @click=\"showConsole = !showConsole\" label=\"Console\" />\n      </template>\n    </MenuBar>\n    <Console :instanceId=\"instanceId\" v-if=\"showConsole\" :height=\"40\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport MenuBar from \"primevue/menubar\"\nimport store from \"../services/store\"\nimport Console from \"./Console.vue\"\nimport router from \"../services/router\"\n\nexport default defineComponent({\n  data: () => ({\n    showConsole: false,\n    items: [{\n      label: \"Dashboard\",\n      icon: \"pi pi-fw pi-home\",\n      to: \"/dashboard\"\n    }, {\n      label: store.state.auth.whoami!.token.username,\n      icon: \"pi pi-fw pi-cog\",\n      items: [{\n        label: \"Logout\",\n        icon: \"pi pi-fw pi-trash\",\n        to: \"/logout\"\n      }]\n    }]\n  }),\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    }\n  },\n  components: {\n    MenuBar,\n    Console\n  }  \n})\n</script>","<template>\n  <div class=\"terminal\" :style=\"`height:${height}vh`\">\n    <pre class=\"content\"><template v-for=\"message in terminal\">{{`${message.prefix}${message.words.join(\" \")}\\n`}}</template></pre>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instanceId: Number,\n    height: Number\n  },\n  computed: {\n    terminal(): { prefix: string, words: string[] }[] {\n      const data = store.state.instances.console\n        .find(({ id }) => id === this.instanceId)\n      if (!data) return []\n      const messages = [...data.messages].reverse()\n      return messages.map(({ type, words }) => ({\n        prefix: type === \"receive\" ? \"\" : \"$> \", words\n      }))\n    }\n  }\n})\n</script>\n\n<style scoped>\n  .content {\n    margin: 5px;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n  .terminal {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: black;\n    color: white;\n    position: relative;\n  }\n</style>\n","\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instanceId: Number,\n    height: Number\n  },\n  computed: {\n    terminal(): { prefix: string, words: string[] }[] {\n      const data = store.state.instances.console\n        .find(({ id }) => id === this.instanceId)\n      if (!data) return []\n      const messages = [...data.messages].reverse()\n      return messages.map(({ type, words }) => ({\n        prefix: type === \"receive\" ? \"\" : \"$> \", words\n      }))\n    }\n  }\n})\n","import { render } from \"./Console.vue?vue&type=template&id=b5c25768&scoped=true\"\nimport script from \"./Console.vue?vue&type=script&lang=ts\"\nexport * from \"./Console.vue?vue&type=script&lang=ts\"\n\nimport \"./Console.vue?vue&type=style&index=0&id=b5c25768&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-b5c25768\"\n\nexport default script","\nimport { defineComponent } from \"vue\"\nimport MenuBar from \"primevue/menubar\"\nimport store from \"../services/store\"\nimport Console from \"./Console.vue\"\nimport router from \"../services/router\"\n\nexport default defineComponent({\n  data: () => ({\n    showConsole: false,\n    items: [{\n      label: \"Dashboard\",\n      icon: \"pi pi-fw pi-home\",\n      to: \"/dashboard\"\n    }, {\n      label: store.state.auth.whoami!.token.username,\n      icon: \"pi pi-fw pi-cog\",\n      items: [{\n        label: \"Logout\",\n        icon: \"pi pi-fw pi-trash\",\n        to: \"/logout\"\n      }]\n    }]\n  }),\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    }\n  },\n  components: {\n    MenuBar,\n    Console\n  }  \n})\n","import { render } from \"./AppMenu.vue?vue&type=template&id=04f47716\"\nimport script from \"./AppMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./AppMenu.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport router from \"../../services/router\"\nimport AppMenu from \"../../components/AppMenu.vue\"\n\nexport default defineComponent({\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    },\n    instance() {\n      return store.state.instances.instances\n        //@ts-ignore\n        .find(instance => instance.id === this.instanceId)\n    }\n  },\n  components: {\n    AppMenu\n  }\n})\n","import { render } from \"./Instance.vue?vue&type=template&id=67e0b5d4\"\nimport script from \"./Instance.vue?vue&type=script&lang=ts\"\nexport * from \"./Instance.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    You have been logged out!\n    <router-link to=\"/login\">Goto Login</router-link>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { AUTH } from \"../../services/store/modules/auth\"\n\nexport default defineComponent({\n  async mounted() {\n    await this.logout()\n  },\n  methods: {\n    async logout() {\n      await store.dispatch(AUTH.LOGOUT)\n    }\n  }\n})\n</script>\n","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { AUTH } from \"../../services/store/modules/auth\"\n\nexport default defineComponent({\n  async mounted() {\n    await this.logout()\n  },\n  methods: {\n    async logout() {\n      await store.dispatch(AUTH.LOGOUT)\n    }\n  }\n})\n","import { render } from \"./Logout.vue?vue&type=template&id=6e2df5ea\"\nimport script from \"./Logout.vue?vue&type=script&lang=ts\"\nexport * from \"./Logout.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"p-grid p-jc-center\">\n    <div class=\"p-sm-12 p-md-6 p-lg-4\">\n      <Card>\n        <template #content>\n          <form @submit.prevent>\n            <div class=\"p-fluid\">\n              <div class=\"p-field\">\n                <label for=\"selectedEndpoint\">Endpoint</label>\n                <div class=\"p-inputgroup\">\n                  <Dropdown\n                    placeholder=\"Select Endpoint\"\n                    :options=\"endpoints\"\n                    v-model=\"selectedEndpoint\"\n                    id=\"selectedEndpoint\"\n                  />\n                  <Dialog position=\"top\" :visible=\"createEndpoint\">\n                    <template #header>\n                      Add Endpoint\n                    </template>\n                    <div class=\"p-fluid\">\n                      <div class=\"p-field\">\n                        <label for=\"newEndpoint\">URL to Endpoint</label>\n                        <div class=\"p-inputgroup\">\n                          <InputText id=\"newEndpoint\" v-model=\"newEndpoint\" />\n                        </div>\n                      </div>\n                    </div>\n                    <template #footer>\n                      <Button icon=\"pi pi-times\" label=\"Cancel\" @click=\"createEndpoint = false\" />\n                      <Button icon=\"pi pi-check\" label=\"Add\" @click=\"addEndpoint()\" autofocus/>\n                    </template>\n                  </Dialog>\n                  <Button icon=\"pi pi-plus\" @click=\"createEndpoint = true\" class=\"p-button-info\"/>\n                </div>\n              </div>\n              <div class=\"p-field\">\n                <label for=\"username\">Username</label>\n                <InputText id=\"username\" v-model=\"username\" />\n              </div>\n              <div class=\"p-field\">\n                <label for=\"password\">Password</label>\n                <InputText type=\"password\" id=\"password\" v-model=\"password\" />\n              </div>\n            </div>\n          </form>\n        </template>\n        <template #footer>\n          <Button label=\"Login\" @click=\"login()\" autofocus/>\n        </template>\n      </Card>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { APP } from \"../../services/store/modules/app\"\nimport api from \"../../services/api\"\n\nexport default defineComponent({\n  data() {\n    return {\n      newEndpoint: \"\",\n      createEndpoint: false,\n      username: \"admin\",\n      password: \"\"\n    }\n  },\n  computed: {\n    endpoints: () => store.state.app.endpoints,\n    selectedEndpoint: {\n      get() {\n        console.log({\n          endpoint: store.state.app.endpoint,\n          endpoints: store.state.app.endpoints,\n          value: store.state.app.endpoints[store.state.app.endpoint]\n        })\n        return store.state.app.endpoints[store.state.app.endpoint]\n      },\n      set(name) {\n        console.log(\"selectedEndpoint\", { name })\n        store.commit(APP.SELECT_ENDPOINT, { name })\n      }\n    },\n  },\n  methods: {\n    /** checks if the endpoint provided is a valid endpoint */\n    async testEndpoint() {\n      const res = await fetch(this.getApiLocation(this.newEndpoint))\n      const data = await res.json()\n      if (typeof data !== \"object\" || data.name !== \"VeniceRCON-api\")\n        throw new Error(\"invalid response received from endpoint\")\n    },\n    /** parses the url string and tries to fetch the correct api endpoint url */\n    getApiLocation(endpoint: string) {\n      if (endpoint.endsWith(\"/\")) endpoint = endpoint.slice(0, -1)\n      if (endpoint.endsWith(\"/api\")) return endpoint\n      return `${endpoint}/api`\n    },\n    async addEndpoint() {\n      await this.testEndpoint()\n      store.dispatch(APP.ADD_LOCATION, { url: this.newEndpoint })\n      this.newEndpoint = \"\"\n      this.createEndpoint = false\n    },\n    async login() {\n      try {\n        await api.login(this.username, this.password)\n        await this.$router.push(\"/dashboard\")\n      } catch (e) {\n        //@ts-ignore\n        this.$toast.add({\n          severity: \"error\",\n          detail: \"check username and password\",\n          summary: \"login failed\",\n          life: 4000\n        })\n      }\n    }\n  }\n})\n</script>\n","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { APP } from \"../../services/store/modules/app\"\nimport api from \"../../services/api\"\n\nexport default defineComponent({\n  data() {\n    return {\n      newEndpoint: \"\",\n      createEndpoint: false,\n      username: \"admin\",\n      password: \"\"\n    }\n  },\n  computed: {\n    endpoints: () => store.state.app.endpoints,\n    selectedEndpoint: {\n      get() {\n        console.log({\n          endpoint: store.state.app.endpoint,\n          endpoints: store.state.app.endpoints,\n          value: store.state.app.endpoints[store.state.app.endpoint]\n        })\n        return store.state.app.endpoints[store.state.app.endpoint]\n      },\n      set(name) {\n        console.log(\"selectedEndpoint\", { name })\n        store.commit(APP.SELECT_ENDPOINT, { name })\n      }\n    },\n  },\n  methods: {\n    /** checks if the endpoint provided is a valid endpoint */\n    async testEndpoint() {\n      const res = await fetch(this.getApiLocation(this.newEndpoint))\n      const data = await res.json()\n      if (typeof data !== \"object\" || data.name !== \"VeniceRCON-api\")\n        throw new Error(\"invalid response received from endpoint\")\n    },\n    /** parses the url string and tries to fetch the correct api endpoint url */\n    getApiLocation(endpoint: string) {\n      if (endpoint.endsWith(\"/\")) endpoint = endpoint.slice(0, -1)\n      if (endpoint.endsWith(\"/api\")) return endpoint\n      return `${endpoint}/api`\n    },\n    async addEndpoint() {\n      await this.testEndpoint()\n      store.dispatch(APP.ADD_LOCATION, { url: this.newEndpoint })\n      this.newEndpoint = \"\"\n      this.createEndpoint = false\n    },\n    async login() {\n      try {\n        await api.login(this.username, this.password)\n        await this.$router.push(\"/dashboard\")\n      } catch (e) {\n        //@ts-ignore\n        this.$toast.add({\n          severity: \"error\",\n          detail: \"check username and password\",\n          summary: \"login failed\",\n          life: 4000\n        })\n      }\n    }\n  }\n})\n","import { render } from \"./Login.vue?vue&type=template&id=0dc2c3fd\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\"\nimport Main from \"../../views/main/Main.vue\"\nimport Dashboard from \"../../views/main/Dashboard.vue\"\nimport Instance from \"../../views/main/Instance.vue\"\nimport Logout from \"../../views/auth/Logout.vue\"\nimport Login from \"../../views/auth/Login.vue\"\nimport store from \"../store\"\n\nconst routes: RouteRecordRaw[] = [{\n  path: \"/\",\n  name: \"Home\",\n  component: Main,\n  children: [{\n    path: \"/:instanceId(\\\\d+)\",\n    name: \"Instance\" ,\n    component: Instance\n  }, {\n    path: \"/dashboard\",\n    name: \"Dashboard\",\n    component: Dashboard\n  }]\n}, {\n    path: \"/login\",\n    name: \"Login\",\n    component: Login,\n  }, {\n    path: \"/logout\",\n    name: \"Logout\",\n    component: Logout\n  }, {\n    path: \"/\",\n    redirect: \"Home\"\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  await waitInitialized()\n  if (to.name === \"Login\" && store.getters.loggedIn) return next({ path: \"/\" })\n  if (to.name !== \"Login\" && !store.getters.loggedIn) return next({ path: \"/login\" })\n  next()\n})\n\nfunction waitInitialized() {\n  if (store.state.app.initialized) return Promise.resolve()\n  return new Promise<void>(fulfill => {\n    if (store.state.app.initialized) return fulfill()\n    const unsubscribe = store.watch(state => state.app.initialized, init => {\n      if (!init) return\n      unsubscribe()\n      fulfill()\n    })\n  })\n}\n\nexport default router\n","<template>\n  <span v-if=\"hasPermission()\">\n    <slot></slot>\n  </span>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instance: Number,\n    //array of strings or string\n    scopes: {\n      validator(value) {\n        return (\n          (Array.isArray(value) && value.every(v => typeof v === \"string\")) ||\n          typeof value === \"string\"\n        )\n      }\n    }\n  },\n  computed: {\n    hasPermission() {\n      return () => {\n        const { hasPermission } = store.getters\n        const scopes = (Array.isArray(this.scopes) ? this.scopes : [this.scopes]) as string[]\n        return scopes.some(scope => hasPermission(this.instance || 0, scope))\n      }\n    }\n  }\n})\n</script>","\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instance: Number,\n    //array of strings or string\n    scopes: {\n      validator(value) {\n        return (\n          (Array.isArray(value) && value.every(v => typeof v === \"string\")) ||\n          typeof value === \"string\"\n        )\n      }\n    }\n  },\n  computed: {\n    hasPermission() {\n      return () => {\n        const { hasPermission } = store.getters\n        const scopes = (Array.isArray(this.scopes) ? this.scopes : [this.scopes]) as string[]\n        return scopes.some(scope => hasPermission(this.instance || 0, scope))\n      }\n    }\n  }\n})\n","import { render } from \"./PermissionCheck.vue?vue&type=template&id=b0efc6fa\"\nimport script from \"./PermissionCheck.vue?vue&type=script&lang=ts\"\nexport * from \"./PermissionCheck.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { createApp } from \"vue\"\nimport App from \"./App.vue\"\nimport router from \"./services/router\"\nimport store from \"./services/store\"\n\nimport PermissionCheck from \"./components/PermissionCheck.vue\"\n\nimport \"primeflex/primeflex.css\"\nimport \"primevue/resources/themes/bootstrap4-light-blue/theme.css\"\nimport \"primevue/resources/primevue.min.css\"\nimport \"primeicons/primeicons.css\"\n\n\nimport ToastService from \"primevue/toastservice\"\nimport Toast from \"primevue/toast\"\nimport Card from \"primevue/card\"\nimport Button from \"primevue/button\"\nimport SplitButton from \"primevue/splitbutton\"\nimport InputNumber from \"primevue/inputnumber\"\nimport InputText from \"primevue/inputtext\"\nimport Dropdown from \"primevue/dropdown\"\nimport Dialog from \"primevue/dialog\"\n\nexport const app = createApp(App)\n\napp.component(\"Toast\", Toast)\napp.component(\"Card\", Card)\napp.component(\"Button\", Button)\napp.component(\"SplitButton\", SplitButton)\napp.component(\"InputNumber\", InputNumber)\napp.component(\"InputText\", InputText)\napp.component(\"Dropdown\", Dropdown)\napp.component(\"Dialog\", Dialog)\napp.component(\"PermissionCheck\", PermissionCheck)\n\napp\n  .use(store)\n  .use(router)\n  .use(ToastService)\n  .mount(\"#app\")","module.exports = __webpack_public_path__ + \"img/xp3_shield.fbbb38fe.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_003.756c1957.jpg\";","module.exports = __webpack_public_path__ + \"img/mp_017.75e90860.jpg\";"],"sourceRoot":""}