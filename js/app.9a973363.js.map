{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Console.vue?2378","webpack:///./src/App.vue","webpack:///./src/services/store/modules/auth.ts","webpack:///./src/services/api/api.ts","webpack:///./src/services/api/index.ts","webpack:///./src/services/store/modules/app.ts","webpack:///./src/services/store/modules/instances.ts","webpack:///./src/services/store/index.ts","webpack:///./src/App.vue?1d14","webpack:///./src/App.vue?97f5","webpack:///./src/views/main/Dashboard.vue","webpack:///./src/components/ServerCard.vue","webpack:///./src/services/api/instance.ts","webpack:///./src/services/battlefield/map.ts","webpack:///./src/components/ConfirmAction.vue","webpack:///./src/components/ConfirmAction.vue?aced","webpack:///./src/components/ConfirmAction.vue?0a3c","webpack:///./src/components/ServerCard.vue?ea11","webpack:///./src/components/ServerCard.vue?b116","webpack:///./src/components/AddInstance.vue","webpack:///./src/components/AddInstance.vue?f703","webpack:///./src/components/AddInstance.vue?b6a9","webpack:///./src/views/main/Dashboard.vue?15f1","webpack:///./src/views/main/Dashboard.vue?d828","webpack:///./src/views/main/Instance.vue","webpack:///./src/components/AppMenu.vue","webpack:///./src/components/Console.vue","webpack:///./src/components/Console.vue?aed7","webpack:///./src/components/Console.vue?bd05","webpack:///./src/components/AppMenu.vue?8887","webpack:///./src/components/AppMenu.vue?81cc","webpack:///./src/views/main/Instance.vue?587d","webpack:///./src/views/main/Instance.vue?c592","webpack:///./src/views/auth/Logout.vue","webpack:///./src/views/auth/Logout.vue?9a3b","webpack:///./src/views/auth/Logout.vue?d045","webpack:///./src/views/auth/Login.vue","webpack:///./src/views/auth/Login.vue?9541","webpack:///./src/views/auth/Login.vue?b136","webpack:///./src/services/router/index.ts","webpack:///./src/services/socket/index.ts","webpack:///./src/components/PermissionCheck.vue","webpack:///./src/components/PermissionCheck.vue?05f2","webpack:///./src/components/PermissionCheck.vue?c315","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","initialized","AUTH","route","params","handleResponse","fetch","getRoute","toString","method","headers","defaultHeaders","credentials","post","body","JSON","stringify","patch","remove","response","res","status","error","Error","statusText","includes","json","defaults","token","state","auth","path","startsWith","app","url","URL","endpoints","endpoint","keys","forEach","searchParams","set","payload","whoami","defaultState","localStorage","getItem","APP","actions","LOGIN","dispatch","commit","WHOAMI","context","LOGOUT","mutations","updateToken","setItem","updateWhoami","removeItem","assign","getters","loggedIn","hasPermission","id","scope","permissions","some","node","root","instance","scopes","DEFAULT_ENDPOINT","getEndpoints","store","parse","message","INSTANCE","INITIALIZE","rootState","ADD_LOCATION","props","SELECT_ENDPOINT","MESSAGE","trigger","location","DEL_LOCATION","type","content","apiEndpointUrl","MESSAGE_LIMIT","CONSOLE_LIMIT","instances","messages","console","ADD","DEL","UPDATE","changes","change","ADD_CHAT","ADD_CONSOLE","event","filter","find","obj","split","index","msg","unshift","msgs","words","getInstance","getInstanceState","strict","computed","mounted","render","class","open","createInstance","onClose","label","icon","header","alt","serverinfo","map","src","toLowerCase","title","subtitle","address","slots","totalSlots","mapName","footer","to","style","instanceId","confirmStop","stop","start","currentState","disabled","confirmDelete","removeInstance","test","host","port","password","deleteInstance","maps","MP_001","MP_003","MP_007","MP_011","MP_012","MP_013","MP_017","MP_018","MP_Subway","XP1_001","XP1_002","XP1_003","XP1_004","XP2_Factory","XP2_Office","XP2_Palace","XP2_Skybar","XP3_Desert","XP3_Alborz","XP3_Shield","XP3_Valley","XP4_Quake","XP4_FD","XP4_Parl","XP4_Rubble","XP5_001","XP5_002","XP5_003","XP5_004","translate","position","visible","close","autofocus","Boolean","String","Function","components","Dialog","methods","confirm","this","required","validator","ConfirmAction","for","closable","tested","busy","save","severity","placeholder","min","max","format","initialState","Message","watch","getConnectionInfo","ServerCard","AddInstance","model","items","end","showConsole","height","terminal","prefix","join","Number","reverse","__scopeId","username","currentRoute","parseInt","MenuBar","Console","AppMenu","logout","createEndpoint","newEndpointName","newEndpointLocation","addEndpoint","selectedEndpoint","updateEndpoint","login","testEndpoint","getApiLocation","endsWith","target","$router","$toast","add","detail","summary","life","routes","component","Instance","children","Dashboard","Login","Logout","redirect","router","history","waitInitialized","Promise","resolve","fulfill","unsubscribe","init","beforeEach","from","next","socket","autoConnect","transports","disconnect","connect","io","uri","getUrl","on","log","toast","level","Array","isArray","every","v","App","PermissionCheck","use","mount"],"mappings":"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","file":"js/app.9a973363.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/VeniceRCON-frontend/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Console.vue?vue&type=style&index=0&id=b5c25768&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Console.vue?vue&type=style&index=0&id=b5c25768&scoped=true&lang=css\"","<template>\n  <div>\n    <div v-if=\"initialized\">\n      <router-view/>\n    </div>\n    <div v-else>\n      Loading...\n    </div>\n    <Toast />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"./services/store\"\nimport { APP } from \"./services/store/modules/app\"\n\nexport default defineComponent({\n  computed: {\n    initialized: () => store.state.app.initialized\n  },\n  async mounted() {\n    await store.dispatch(APP.INITIALIZE)\n  }\n})\n\n</script>","import { login, whoami, WhoamiResponse } from \"../../api\"\nimport { Module, ActionTree, MutationTree, GetterTree } from \"vuex\"\nimport { rootState } from \"../\"\n\nexport enum AUTH {\n  LOGIN = \"AUTH_LOGIN\",\n  WHOAMI = \"AUTH_WHOAMI\",\n  LOGOUT = \"AUTH_LOGOUT\"\n}\n\nexport type AuthState = {\n  token: string|null\n  whoami: WhoamiResponse|null\n}\n\nfunction defaultState(): AuthState {\n  return {\n    token: localStorage.getItem(\"jwt\") || null,\n    whoami: null\n  }\n}\n\n\nconst actions: ActionTree<AuthState, rootState> = {\n  /** tries to login to a different account */\n  async [AUTH.LOGIN]({ dispatch, commit }, payload) {\n    const { token } = await login(payload)\n    commit(\"updateToken\", token)\n    await dispatch(AUTH.WHOAMI)\n  },\n  /** retrieves informations about the currently used user */\n  async [AUTH.WHOAMI](context) {\n    context.commit(\"updateWhoami\", await whoami())\n  },\n  /** resets the store */\n  [AUTH.LOGOUT]({ commit }) {\n    commit(AUTH.LOGOUT)\n  }\n}\n\nconst mutations: MutationTree<AuthState> = {\n  updateToken(state, token: string) {\n    localStorage.setItem(\"jwt\", token)\n    state.token = token\n  },\n  updateWhoami(state, response: WhoamiResponse) {\n    state.whoami = response\n  },\n  [AUTH.LOGOUT](state) {\n    localStorage.removeItem(\"jwt\")\n    Object.assign(state, defaultState())\n  }\n}\n\nconst getters: GetterTree<AuthState, rootState> = {\n  loggedIn: state => state.whoami !== null,\n  hasPermission: state => (id: number|undefined, scope: string) => {\n    if (!state.whoami) return false\n    return state.whoami.permissions.some(node => {\n      if (node.root || node.instance === id)\n        return node.scopes.includes(scope)\n    })\n  }\n}\n\nconst store: Module<AuthState, rootState> = {\n  state: defaultState(),\n  actions,\n  mutations,\n  getters\n}\n\nexport default store","import store from \"../store\"\n//@ts-ignore\nimport { useToast } from \"primevue/usetoast\"\n\nexport function get(route: string, params?: Record<string, string>) {\n  return handleResponse(fetch(getRoute(route, params).toString(), {\n    method: \"GET\",\n    headers: defaultHeaders(),\n    credentials: \"include\",\n  }))\n}\n\nexport function post(route: string, body?: any, params?: Record<string, string>) {\n  return handleResponse(fetch(getRoute(route, params).toString(), {\n    method: \"POST\",\n    body: JSON.stringify(body),\n    headers: defaultHeaders(() => {\n      const headers: Record<string, string> = {}\n      if (body) headers[\"Content-Type\"] = \"application/json\"\n      return headers\n    }),\n    credentials: \"include\",\n  }))\n}\n\nexport function patch(route: string, body?: any, params?: Record<string, string>) {\n  return handleResponse(fetch(getRoute(route, params).toString(), {\n    method: \"PATCH\",\n    body: JSON.stringify(body),\n    headers: defaultHeaders(() => {\n      const headers: Record<string, string> = {}\n      if (body) headers[\"Content-Type\"] = \"application/json\"\n      return headers\n    }),\n    credentials: \"include\",\n  }))\n}\n\nexport function remove(route: string, params?: Record<string, string>) {\n  return handleResponse(fetch(getRoute(route, params).toString(), {\n    method: \"DELETE\",\n    headers: defaultHeaders(),\n    credentials: \"include\",\n  }))\n}\n\n/**\n * error handler\n * @param response fetch response\n */\nasync function handleResponse(response: Promise<Response>) {\n  try {\n    const res = await response\n    if (res.status > 299 || res.status < 200) {\n      const error = <any>new Error(`${res.statusText} (${res.status})`)\n      error.status = res.status\n      error.statusText = res.statusText\n      if (res.headers.get(\"Content-Type\")?.includes(\"application/json\")) error.body = await res.json()\n      /*useToast().add({\n        severity: \"error\",\n        detail: (error.body && error.body.message) ? error.body.message : error.message,\n        summary: `HTTP Error`,\n        life: 4000\n      })*/\n      throw error\n    }\n    return res\n  } catch (error) {\n    false && console.log(\"ok\")\n    /*\n    useToast().add({\n      severity: \"error\",\n      detail: error.message,\n      summary: `HTTP Error`,\n      life: 4000\n    })*/\n    throw error\n  }\n}\n\n/**\n * applies some default headers to each request\n * @param headers preset headers which should be included\n */\nfunction defaultHeaders(headers: Record<string, string>|(() => Record<string, string>) = {}) {\n  const defaults: Record<string, string> = {}\n  const { token } = store.state.auth\n  if (token) defaults[\"Authorization\"] = `Bearer ${token}`\n  if (typeof headers === \"function\") headers = headers()\n  return {\n    ...headers,\n    ...defaults\n  }\n}\n\n/**\n * gets the actual path to the api endpoint\n * @param path path to the api\n * @param params optional url params\n */\nfunction getRoute(path: string, params: Record<string, string> = {}) {\n  if (path.startsWith(\"/\")) path = path.slice(1)\n  const { app } = store.state\n  const url = new URL(`${app.endpoints[app.endpoint]}/api/${path}`)\n  Object.keys(params).forEach(key => {\n    url.searchParams.set(key, params[key])\n  })\n  return url\n}","import { get, post } from \"./api\"\n\nexport type LoginPayload = {\n  username: string\n  password: string\n}\n\nexport type LoginResponse = {\n  token: string\n}\n\n/**\n * tries to log you into an user account\n * @param payload username and password to login with\n */\nexport async function login(payload: LoginPayload): Promise<LoginResponse> {\n  const res = await post(\"/auth/login\", payload)\n  return res.json()\n}\n\n\n\nexport type TokenInfo = {\n  v: number\n  id: number\n  username: string\n  iat: number\n}\n\nexport type WhoamiResponse = {\n  permissions: {\n    instance: number|null\n    root: boolean\n    scopes: string[]\n  }[],\n  token: TokenInfo\n}\n\n/**\n * gets infos about your current jwt token\n */\nexport async function whoami(): Promise<WhoamiResponse> {\n  const res = await get(\"/auth/whoami\")\n  const data = await res.json()\n  return data\n}","import { Module, ActionTree, MutationTree, GetterTree } from \"vuex\"\nimport type { rootState } from \"../\"\nimport { AUTH } from './auth'\n\nexport enum APP {\n  INITIALIZE = \"APP_INITIALIZE\",\n  ADD_LOCATION = \"APP_ADD_LOCATION\",\n  DEL_LOCATION = \"APP_DEL_LOCATION\",\n  SELECT_ENDPOINT = \"APP_SELECT_ENDPOINT\",\n  MESSAGE = \"APP_MESSAGE\"\n}\n\nexport const DEFAULT_ENDPOINT = \"default\"\n\nexport type AppState = {\n  initialized: boolean\n  endpoints: Record<string, string>\n  endpoint: string\n  message: {\n    type: string\n    content: string\n  }|null\n}\n\nfunction getEndpoints(): Pick<AppState, \"endpoint\"|\"endpoints\"> {\n  const store = localStorage.getItem(\"endpoints\")\n  const endpoints = store ? JSON.parse(store) : { [DEFAULT_ENDPOINT]: \"http://localhost:8000\" }\n  const endpoint = localStorage.getItem(\"endpoint\") || DEFAULT_ENDPOINT\n  return { endpoints, endpoint }\n}\n\nexport function defaultState(): AppState {\n  return {\n    initialized: false,\n    ...getEndpoints(),\n    message: null\n  }\n}\n\nconst actions: ActionTree<AppState, rootState> = {\n  /** initializes the application */\n  async [APP.INITIALIZE]({ dispatch, commit, rootState }) {\n    if (!rootState.auth.token) return commit(APP.INITIALIZE)\n    try {\n      await dispatch(AUTH.WHOAMI)\n      commit(APP.INITIALIZE)\n    } catch (e) {\n      await dispatch(AUTH.LOGOUT)\n      commit(APP.INITIALIZE)\n    }\n  },\n  async [APP.ADD_LOCATION]({ commit }, props) {\n    commit(APP.ADD_LOCATION, props)\n  },\n  async [APP.SELECT_ENDPOINT]({ commit, dispatch }) {\n    dispatch(AUTH.LOGOUT)\n    commit(APP.SELECT_ENDPOINT)\n  },\n  [APP.MESSAGE]({ commit }, props) {\n    commit(APP.MESSAGE, props)\n  }\n}\n\nconst mutations: MutationTree<AppState> = {\n  [APP.INITIALIZE](state, trigger: boolean = true) {\n    state.initialized = trigger\n  },\n  [APP.SELECT_ENDPOINT](state, props: { name: string }) {\n    state.endpoint = props.name\n    localStorage.setItem(\"endpoint\", props.name)\n  },\n  [APP.ADD_LOCATION](state, props: { name: string, location: string }) {\n    state.endpoints[props.name] = props.location\n    localStorage.setItem(\"endpoints\", JSON.stringify(state.endpoints))\n  },\n  [APP.DEL_LOCATION](state, props: { name: string }) {\n    if (props.name === DEFAULT_ENDPOINT) throw new Error(\"can not delete default location\")\n    delete state.endpoints[name]\n    if (state.endpoint === name) state.endpoint = DEFAULT_ENDPOINT\n  },\n  [APP.MESSAGE](state, { type, content }) {\n    state.message = { type, content }\n  }\n}\n\nconst getters: GetterTree<AppState, rootState> = {\n  apiEndpointUrl: state => state.endpoints[state.endpoint]\n}\n\nconst store: Module<AppState, rootState> = {\n  state: defaultState(),\n  actions,\n  mutations,\n  getters\n}\n\nexport default store","import { Module, ActionTree, MutationTree, GetterTree } from \"vuex\"\nimport { rootState } from \"../\"\nimport { ChatMessage, ConsoleEvent } from \"../../socket\"\nimport { Instance } from \"../../../types/Instance\"\nimport { AUTH } from \"./auth\"\n\nconst MESSAGE_LIMIT = 100\nconst KILL_LIMIT = 100\nconst CONSOLE_LIMIT = 200\n\nexport enum INSTANCE {\n  ADD = \"INSTANCE_ADD\",\n  DEL = \"INSTANCE_DEL\",\n  UPDATE = \"INSTANCE_UPDATE\",\n  ADD_CHAT = \"INSTANCE_ADD_CHAT\",\n  ADD_KILL = \"INSTANCE_ADD_KILL\",\n  ADD_CONSOLE = \"INSTANCE_ADD_CONSOLE\"\n}\n\nexport type InstanceState = {\n  instances: Instance[],\n  messages: { id: number, messages: ChatMessage[] }[]\n  console: { id: number, messages: Pick<ConsoleEvent, \"type\"|\"words\">[] }[]\n}\n\nfunction defaultState(): InstanceState {\n  return {\n    instances: [],\n    messages: [],\n    console: []\n  }\n}\n\n\nconst actions: ActionTree<InstanceState, rootState> = {\n  [INSTANCE.ADD]({ commit }, instance) {\n    commit(INSTANCE.ADD, instance)\n  },\n  [INSTANCE.DEL]({ commit }, props) {\n    commit(INSTANCE.DEL, props)\n  },\n  [INSTANCE.UPDATE]({ commit }, { changes, id }) {\n    changes.forEach((change: any) => commit(INSTANCE.UPDATE, { id, change })) \n  },\n  [INSTANCE.ADD_CHAT]({ commit }, { messages }: { messages: ChatMessage[] }) {\n    messages.forEach(message => commit(INSTANCE.ADD_CHAT, { message }))\n  },\n  [INSTANCE.ADD_CONSOLE]({ commit }, event: ConsoleEvent) {\n    commit(INSTANCE.ADD_CONSOLE, event)\n  }\n}\n\nconst mutations: MutationTree<InstanceState> = {\n  [AUTH.LOGOUT](state) {\n    Object.assign(state, defaultState())\n  },\n  [INSTANCE.ADD](state, instance) {\n    if (state.instances.some(({ id }) => id === instance.id)) return\n    state.instances.push(instance)\n  },\n  [INSTANCE.DEL](state, { id }) {\n    state.instances = state.instances.filter(instance => instance.id !== id)\n  },\n  [INSTANCE.UPDATE](state, { id, change }) {\n    const instance = state.instances.find(instance => instance.id === id)\n    if (!instance) return\n    let obj: any = instance\n    const path = change[0].split(\".\")\n    path.forEach((key: string, index: number) => {\n      if (index === path.length - 1) {\n        if (change[1] === null) {\n          delete obj[key]\n        } else {\n          obj[key] = change[1]\n        }\n      } else {\n        if (typeof obj[key] !== \"object\") Object.assign(obj, { [key]: {} })\n        obj = obj[key]\n      }\n    })\n  },\n  [INSTANCE.ADD_CHAT](state, { message }: { message: ChatMessage }) {\n    const { instance } = message\n    const messages = state.messages.find(msg => msg.id === instance)\n    if (messages) {\n      messages.messages = [message, ...messages.messages].slice(0, MESSAGE_LIMIT)\n    } else {\n      state.messages.unshift({ id: instance, messages: [message] })\n    }\n  },\n  [INSTANCE.ADD_CONSOLE](state, event: ConsoleEvent) {\n    const msgs = state.console.find(c => c.id === event.id)\n    const { type, words } = event\n    if (msgs) {\n      msgs.messages = [{ type, words }, ...msgs.messages].slice(0, CONSOLE_LIMIT)\n    } else {\n      state.console.unshift({ id: event.id, messages: [{ type, words }] })\n    }\n  }\n}\n\nconst getters: GetterTree<InstanceState, rootState> = {\n  getInstance(state) {\n    return (id: number) => {\n      const instance = state.instances.find(instance => instance.id === id)\n      if (!instance) throw new Error(`could not find instance with id ${id}!`)\n      return instance\n    }\n  },\n  getInstanceState(state, getters) {\n    return (id: number) => {\n      const instance = getters.getInstance(id)\n      switch (instance.state) {\n        default:\n        case 0: return \"Unknown\"\n        case 1: return \"Connecting\"\n        case 2: return \"Connected\"\n        case 3: return \"Disconnecting\"\n        case 4: return \"Disconnected\"\n        case 5: return \"Reconnecting\"\n      }\n    }\n  }\n\n}\n\nconst store: Module<InstanceState, rootState> = {\n  state: defaultState(),\n  actions,\n  mutations,\n  getters\n}\n\nexport default store","import { createStore } from \"vuex\"\nimport authStore, { AuthState } from \"./modules/auth\"\nimport appStore, { AppState } from \"./modules/app\"\nimport instanceStore, { InstanceState } from \"./modules/instances\"\n\nexport type rootState = {\n  auth: AuthState,\n  app: AppState,\n  instances: InstanceState\n}\n\nconst store = createStore({\n  strict: true,\n  state: {} as rootState,\n  modules: {\n    auth: authStore,\n    app: appStore,\n    instances: instanceStore\n  }\n})\n\nexport default store","\nimport { defineComponent } from \"vue\"\nimport store from \"./services/store\"\nimport { APP } from \"./services/store/modules/app\"\n\nexport default defineComponent({\n  computed: {\n    initialized: () => store.state.app.initialized\n  },\n  async mounted() {\n    await store.dispatch(APP.INITIALIZE)\n  }\n})\n\n","import { render } from \"./App.vue?vue&type=template&id=8ae4b25e&bindings={}\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <PermissionCheck scopes=\"INSTANCE#CREATE\" class=\"p-grid\">\n      <div class=\"p-md-12\">\n        <AddInstance :open=\"createInstance\" :onClose=\"() => createInstance = false\" />\n        <Button label=\"Add\" icon=\"pi pi-plus\" @click=\"createInstance = true\" class=\"p-mr-2\" />\n      </div>\n    </PermissionCheck>\n    <div class=\"p-grid\">\n      <div\n        class=\"p-md-4 p-lg-3\"\n        v-for=\"instance in instances\"\n        v-bind:key=\"instance.id\"\n      >\n        <ServerCard v-bind:instance=\"instance\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store/\"\nimport ServerCard from \"../../components/ServerCard.vue\"\nimport AddInstance from \"../../components/AddInstance.vue\"\n\nexport default defineComponent({\n  data: () => ({\n    createInstance: false\n  }),\n  computed: {\n    instances: () => store.state.instances.instances\n  },\n  components: {\n    ServerCard,\n    AddInstance\n  }\n})\n</script>\n","<template>\n<Card class=\"p-shadow-5\">\n  <template #header>\n    <img :alt=\"instance.serverinfo.map\" :src=\"`https://eaassets-a.akamaihd.net/bl-cdn/cdnprefix/production-284-20170531/public/base/bf3/map_images/992x164/${instance.serverinfo.map.toLowerCase()}.jpg`\">\n  </template>\n  <template #title>\n    {{instance.serverinfo.name}}\n  </template>\n  <template #subtitle>\n    <p>{{instance.serverinfo.address}}</p>\n  </template>\n  <template #content>\n    <p>\n      <i class=\"pi pi-users pi-sm\"></i> \n      {{instance.serverinfo.slots}}/{{instance.serverinfo.totalSlots}}\n    </p>\n    <p>\n      <i class=\"pi pi-map-marker\"></i> \n      {{mapName(instance.serverinfo.map)}}\n    </p>\n    <p>\n      <i class=\"pi pi-star-o\"></i> \n      {{mapName(instance.serverinfo.mode)}}\n    </p>\n  </template>\n  <template #footer>\n      <router-link :to=\"{ name: 'Instance', params: { instanceId: instance.id }}\" style=\"text-decoration:none\" >\n        <Button icon=\"pi pi-check\" label=\"Select\" />\n      </router-link>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#UPDATE\">\n        <ConfirmAction\n          :open=\"confirmStop\"\n          message=\"Are you sure that you want to stop the Instance?\"\n          :onClose=\"stop\"\n        />\n        <Button\n          v-if=\"instance.state === 2\"\n          icon=\"pi pi-power-off\"\n          label=\"Stop\"\n          class=\"p-button-danger\"\n          style=\"margin-left: .5em\"\n          @click=\"confirmStop = true\"\n        />\n      </PermissionCheck>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#UPDATE\">\n        <Button\n          v-if=\"instance.state === 4\"\n          icon=\"pi pi-play\"\n          label=\"Start\"\n          class=\"p-button-success\"\n          style=\"margin-left: .5em\"\n          @click=\"start()\"\n        />\n      </PermissionCheck>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#UPDATE\">\n        <Button\n          v-if=\"![2, 4].includes(instance.state)\"\n          :label=\"currentState\"\n          disabled\n          class=\"p-button-warning\"\n          style=\"margin-left: .5em\"\n        />\n      </PermissionCheck>\n      <PermissionCheck :instance=\"instanceId\" scopes=\"INSTANCE#DELETE\">\n        <ConfirmAction\n          :open=\"confirmDelete\"\n          :message=\"`Delete '${instance.serverinfo.name}'?`\"\n          :onClose=\"removeInstance\"\n        />\n        <Button\n          icon=\"pi pi-trash\"\n          @click=\"confirmDelete = true\"\n          class=\"p-button-danger\"\n          style=\"margin-left: .5em\"\n        />\n      </PermissionCheck>\n  </template>\n</Card>\n</template>\n\n\n<script lang=\"ts\">\nimport { PropType, defineComponent } from \"vue\"\nimport { deleteInstance, start, stop } from \"../services/api/instance\"\nimport store from \"../services/store\"\nimport { Instance } from \"../types/Instance\"\nimport { translate } from \"../services/battlefield/map\"\nimport ConfirmAction from \"../components/ConfirmAction.vue\"\n\nexport default defineComponent({\n  props: {\n    instance: {\n      type: Object as PropType<Instance>,\n      required: true,\n      validator: (instance: Instance) => !!instance.id\n    }\n  },\n  data: () => ({\n    confirmStop: false,\n    confirmDelete: false\n  }),\n  components: {\n    ConfirmAction\n  },\n  computed: {\n    instanceId(): number {\n      //@ts-ignore\n      return this.instance.id\n    },\n    currentState() {\n      return store.getters.getInstanceState(this.instanceId)\n    },\n    hasPermission() {\n      return (scope: string) => store.getters.hasPermission(this.instanceId, scope)\n    },\n    mapName() {\n      return translate\n    }\n  },\n  methods: {\n    async stop(confirm: boolean) {\n      this.confirmStop = false\n      if (confirm) await stop(this.instanceId)\n    },\n    start() {\n      return start(this.instanceId)\n    },\n    removeInstance(confirm: boolean) {\n      this.confirmDelete = false\n      if (confirm) deleteInstance(this.instanceId)\n    }\n  }\n})\n</script>","import { patch, remove, post } from \"./api\"\n\n/** starts the selected instance id */\nexport async function start(instance: number): Promise<void> {\n  await patch(`/instances/${instance}/start`)\n}\n\n/** stops the selected instance id */\nexport async function stop(instance: number): Promise<void> {\n  await patch(`/instances/${instance}/stop`)\n}\n\nexport interface CreateInstanceProps {\n  test?: boolean\n  host: string\n  port: number\n  password: string\n}\n\n/** creates a new instance */\nexport async function createInstance(props: CreateInstanceProps): Promise<Response> {\n  return post(\"/instances\", {\n    test: props.test === true,\n    host: props.host,\n    port: props.port,\n    password: props.password\n  })\n}\n\n/** deletes the instance */\nexport async function deleteInstance(instance: number): Promise<void> {\n  await remove(`/instances/${instance}`)\n}","export const maps: Record<string, string> = {\n  MP_001: \"Grand Bazaar\",\n  MP_003: \"Teheran Highway\",\n  MP_007: \"Caspian Border\",\n  MP_011: \"Seine Crossing\",\n  MP_012: \"Operation Firestorm\",\n  MP_013: \"Damavand Peak\",\n  MP_017: \"Noshahar Canals\",\n  MP_018: \"Kharg Island\",\n  MP_Subway: \"Operation Metro\",\n  XP1_001: \"Strike at Karkand\",\n  XP1_002: \"Gulf of Oman\",\n  XP1_003: \"Sharqi Peninsula\",\n  XP1_004: \"Wake Island\",\n  XP2_Factory: \"Scrapmetal\",\n  XP2_Office: \"Operation 925\",\n  XP2_Palace: \"Donya Fortress\",\n  XP2_Skybar: \"Ziba Tower\",\n  XP3_Desert: \"Bandar Desert\",\n  XP3_Alborz: \"Alborz Mountains\",\n  XP3_Shield: \"Armored Shield\",\n  XP3_Valley: \"Death Valley\",\n  XP4_Quake: \"Epicenter\",\n  XP4_FD: \"Markaz Monolith\",\n  XP4_Parl: \"Azadi Palace\",\n  XP4_Rubble: \"Talah Market\",\n  XP5_001: \"Operation Riverside\",\n  XP5_002: \"Nebandan Flats\",\n  XP5_003: \"Kiasar Railroad\",\n  XP5_004: \"Sabalan Pipeline\"\n}\n\n/**\n * translates a map id to a readable name\n * @param id the map id to use\n */\nexport const translate = (id: string) => id in maps ? maps[id] : id","<template>\n  <Dialog position=\"top\" :visible=\"open\">\n    <template #header>\n      Confirm Action\n    </template>\n    <i class=\"pi pi-exclamation-triangle\"></i> {{message}}\n    <template #footer>\n      <Button icon=\"pi pi-times\" label=\"No\" @click=\"close(false)\" />\n      <Button icon=\"pi pi-check\" label=\"Yes\" @click=\"close(true)\" autofocus/>\n    </template>\n  </Dialog>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\n\nexport default defineComponent({\n  props: {\n    open: Boolean,\n    message: String,\n    // eslint-disable-next-line no-unused-vars\n    onClose: Function as PropType<(confirm: boolean) => void>\n  },\n  components: {\n    Dialog\n  },\n  methods: {\n    close(confirm: boolean) {\n      if (typeof this.onClose !== \"function\") return\n      this.onClose(confirm)\n    }\n  }\n})\n</script>","\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\n\nexport default defineComponent({\n  props: {\n    open: Boolean,\n    message: String,\n    // eslint-disable-next-line no-unused-vars\n    onClose: Function as PropType<(confirm: boolean) => void>\n  },\n  components: {\n    Dialog\n  },\n  methods: {\n    close(confirm: boolean) {\n      if (typeof this.onClose !== \"function\") return\n      this.onClose(confirm)\n    }\n  }\n})\n","import { render } from \"./ConfirmAction.vue?vue&type=template&id=4c4ba6dc&bindings={}\"\nimport script from \"./ConfirmAction.vue?vue&type=script&lang=ts\"\nexport * from \"./ConfirmAction.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { PropType, defineComponent } from \"vue\"\nimport { deleteInstance, start, stop } from \"../services/api/instance\"\nimport store from \"../services/store\"\nimport { Instance } from \"../types/Instance\"\nimport { translate } from \"../services/battlefield/map\"\nimport ConfirmAction from \"../components/ConfirmAction.vue\"\n\nexport default defineComponent({\n  props: {\n    instance: {\n      type: Object as PropType<Instance>,\n      required: true,\n      validator: (instance: Instance) => !!instance.id\n    }\n  },\n  data: () => ({\n    confirmStop: false,\n    confirmDelete: false\n  }),\n  components: {\n    ConfirmAction\n  },\n  computed: {\n    instanceId(): number {\n      //@ts-ignore\n      return this.instance.id\n    },\n    currentState() {\n      return store.getters.getInstanceState(this.instanceId)\n    },\n    hasPermission() {\n      return (scope: string) => store.getters.hasPermission(this.instanceId, scope)\n    },\n    mapName() {\n      return translate\n    }\n  },\n  methods: {\n    async stop(confirm: boolean) {\n      this.confirmStop = false\n      if (confirm) await stop(this.instanceId)\n    },\n    start() {\n      return start(this.instanceId)\n    },\n    removeInstance(confirm: boolean) {\n      this.confirmDelete = false\n      if (confirm) deleteInstance(this.instanceId)\n    }\n  }\n})\n","import { render } from \"./ServerCard.vue?vue&type=template&id=350578bc&bindings={}\"\nimport script from \"./ServerCard.vue?vue&type=script&lang=ts\"\nexport * from \"./ServerCard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <Dialog position=\"top\" :visible=\"open\" :closable=\"false\">\n    <template #header>\n      Add Instance\n    </template>\n    <Message v-if=\"error\" severity=\"error\">{{error}}</Message>\n    <form @submit.prevent>\n      <div class=\"p-fluid\">\n        <div class=\"p-field\">\n          <label for=\"host\">Host</label>\n          <InputText id=\"host\" placeholder=\"example.com\" v-model=\"host\" />\n        </div>\n        <div class=\"p-field\">\n          <label for=\"port\">Port</label>\n          <InputNumber id=\"port\" placeholder=\"47200\" v-model=\"port\" :min=\"1024\" :max=\"65535\" :format=\"false\" />\n        </div>\n        <div class=\"p-field\">\n          <label for=\"password\">Password</label>\n          <InputText id=\"password\" v-model=\"password\" />\n        </div>\n      </div>\n    </form>\n    <template #footer>\n      <Button icon=\"pi pi-times\" label=\"Cancel\" @click=\"close()\" />\n      <Button icon=\"pi pi-question\" label=\"Test Connection\" :disabled=\"busy\" v-if=\"!tested\" @click=\"test()\" />\n      <Button icon=\"pi pi-check\" label=\"Add Server\" :disabled=\"busy\" v-if=\"tested\" @click=\"save()\" />\n    </template>\n  </Dialog>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\nimport { createInstance } from \"../services/api/instance\"\nimport Message from \"primevue/message\"\n\nconst initialState = () => ({\n    error: null,\n    busy: false,\n    tested: false,\n    host: \"\",\n    port: 47200,\n    password: \"\"\n})\n\nexport default defineComponent({\n  name: \"AddInstance\",\n  props: {\n    open: Boolean,\n    onClose: Function as PropType<() => void>\n  },\n  data: initialState,\n  components: {\n    Dialog,\n    Message\n  },\n  watch: {\n    host() { this.tested = false },\n    port() { this.tested = false },\n    password() { this.tested = false },\n  },\n  methods: {\n    /** gets the connection object */\n    getConnectionInfo(test: boolean = false) {\n      return { test, host: this.host, port: this.port, password: this.password }\n    },\n    /** closes the dialog */\n    close() {\n      if (typeof this.onClose !== \"function\") return\n      Object.assign(this, initialState())\n      this.onClose()\n    },\n    /** saves the connection */\n    async save() {\n      if (!this.tested) return\n      this.busy = true\n      try {\n        await createInstance(this.getConnectionInfo())\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n      this.close()\n    },\n    /** tests the connection */\n    async test() {\n      this.busy = true\n      try {\n        await createInstance(this.getConnectionInfo(true))\n        this.tested = true\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n    }\n  }\n})\n</script>","\nimport { defineComponent, PropType } from \"vue\"\nimport Dialog from \"primevue/dialog\"\nimport { createInstance } from \"../services/api/instance\"\nimport Message from \"primevue/message\"\n\nconst initialState = () => ({\n    error: null,\n    busy: false,\n    tested: false,\n    host: \"\",\n    port: 47200,\n    password: \"\"\n})\n\nexport default defineComponent({\n  name: \"AddInstance\",\n  props: {\n    open: Boolean,\n    onClose: Function as PropType<() => void>\n  },\n  data: initialState,\n  components: {\n    Dialog,\n    Message\n  },\n  watch: {\n    host() { this.tested = false },\n    port() { this.tested = false },\n    password() { this.tested = false },\n  },\n  methods: {\n    /** gets the connection object */\n    getConnectionInfo(test: boolean = false) {\n      return { test, host: this.host, port: this.port, password: this.password }\n    },\n    /** closes the dialog */\n    close() {\n      if (typeof this.onClose !== \"function\") return\n      Object.assign(this, initialState())\n      this.onClose()\n    },\n    /** saves the connection */\n    async save() {\n      if (!this.tested) return\n      this.busy = true\n      try {\n        await createInstance(this.getConnectionInfo())\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n      this.close()\n    },\n    /** tests the connection */\n    async test() {\n      this.busy = true\n      try {\n        await createInstance(this.getConnectionInfo(true))\n        this.tested = true\n      } catch (error) {\n        if (error.body && error.body.message) {\n          this.error = error.body.message\n        } else {\n          this.error = error.message\n        }\n      }\n      this.busy = false\n    }\n  }\n})\n","import { render } from \"./AddInstance.vue?vue&type=template&id=ac776a38&bindings={}\"\nimport script from \"./AddInstance.vue?vue&type=script&lang=ts\"\nexport * from \"./AddInstance.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store/\"\nimport ServerCard from \"../../components/ServerCard.vue\"\nimport AddInstance from \"../../components/AddInstance.vue\"\n\nexport default defineComponent({\n  data: () => ({\n    createInstance: false\n  }),\n  computed: {\n    instances: () => store.state.instances.instances\n  },\n  components: {\n    ServerCard,\n    AddInstance\n  }\n})\n","import { render } from \"./Dashboard.vue?vue&type=template&id=7997ec4a&bindings={}\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=ts\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <AppMenu />\n    <h3>Instance</h3>\n    <pre>{{JSON.stringify(instance, null, 2)}}</pre>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport router from \"../../services/router\"\nimport AppMenu from \"../../components/AppMenu.vue\"\n\nexport default defineComponent({\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    },\n    instance() {\n      return store.state.instances.instances\n        //@ts-ignore\n        .find(instance => instance.id === this.instanceId)\n    }\n  },\n  components: {\n    AppMenu\n  }\n})\n</script>\n","<template>\n  <div>\n    <MenuBar :model=\"items\">\n      <template #start>\n          VeniceRcon\n      </template>\n      <template #end>\n        <Button @click=\"showConsole = !showConsole\" label=\"Console\" />\n      </template>\n    </MenuBar>\n    <Console :instanceId=\"instanceId\" v-if=\"showConsole\" :height=\"40\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport MenuBar from \"primevue/menubar\"\nimport store from \"../services/store\"\nimport Console from \"./Console.vue\"\nimport router from \"../services/router\"\n\nexport default defineComponent({\n  data: () => ({\n    showConsole: false,\n    items: [{\n      label: \"Dashboard\",\n      icon: \"pi pi-fw pi-home\",\n      to: \"/dashboard\"\n    }, {\n      label: store.state.auth.whoami!.token.username,\n      icon: \"pi pi-fw pi-cog\",\n      items: [{\n        label: \"Logout\",\n        icon: \"pi pi-fw pi-trash\",\n        to: \"/logout\"\n      }]\n    }]\n  }),\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    }\n  },\n  components: {\n    MenuBar,\n    Console\n  }  \n})\n</script>","<template>\n  <div class=\"terminal\" :style=\"`height:${height}vh`\">\n    <pre class=\"content\"><template v-for=\"message in terminal\">{{`${message.prefix}${message.words.join(\" \")}\\n`}}</template></pre>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instanceId: Number,\n    height: Number\n  },\n  computed: {\n    terminal(): { prefix: string, words: string[] }[] {\n      const data = store.state.instances.console\n        .find(({ id }) => id === this.instanceId)\n      if (!data) return []\n      const messages = [...data.messages].reverse()\n      return messages.map(({ type, words }) => ({\n        prefix: type === \"receive\" ? \"\" : \"$> \", words\n      }))\n    }\n  }\n})\n</script>\n\n<style scoped>\n  .content {\n    margin: 5px;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n  .terminal {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: black;\n    color: white;\n    position: relative;\n  }\n</style>\n","\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instanceId: Number,\n    height: Number\n  },\n  computed: {\n    terminal(): { prefix: string, words: string[] }[] {\n      const data = store.state.instances.console\n        .find(({ id }) => id === this.instanceId)\n      if (!data) return []\n      const messages = [...data.messages].reverse()\n      return messages.map(({ type, words }) => ({\n        prefix: type === \"receive\" ? \"\" : \"$> \", words\n      }))\n    }\n  }\n})\n","import { render } from \"./Console.vue?vue&type=template&id=b5c25768&scoped=true&bindings={}\"\nimport script from \"./Console.vue?vue&type=script&lang=ts\"\nexport * from \"./Console.vue?vue&type=script&lang=ts\"\n\nimport \"./Console.vue?vue&type=style&index=0&id=b5c25768&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-b5c25768\"\n\nexport default script","\nimport { defineComponent } from \"vue\"\nimport MenuBar from \"primevue/menubar\"\nimport store from \"../services/store\"\nimport Console from \"./Console.vue\"\nimport router from \"../services/router\"\n\nexport default defineComponent({\n  data: () => ({\n    showConsole: false,\n    items: [{\n      label: \"Dashboard\",\n      icon: \"pi pi-fw pi-home\",\n      to: \"/dashboard\"\n    }, {\n      label: store.state.auth.whoami!.token.username,\n      icon: \"pi pi-fw pi-cog\",\n      items: [{\n        label: \"Logout\",\n        icon: \"pi pi-fw pi-trash\",\n        to: \"/logout\"\n      }]\n    }]\n  }),\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    }\n  },\n  components: {\n    MenuBar,\n    Console\n  }  \n})\n","import { render } from \"./AppMenu.vue?vue&type=template&id=04f47716&bindings={}\"\nimport script from \"./AppMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./AppMenu.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport router from \"../../services/router\"\nimport AppMenu from \"../../components/AppMenu.vue\"\n\nexport default defineComponent({\n  computed: {\n    instanceId() {\n      const id = router.currentRoute.value.params.instanceId\n      if (typeof id !== \"string\") return 0\n      return parseInt(id, 10)\n    },\n    instance() {\n      return store.state.instances.instances\n        //@ts-ignore\n        .find(instance => instance.id === this.instanceId)\n    }\n  },\n  components: {\n    AppMenu\n  }\n})\n","import { render } from \"./Instance.vue?vue&type=template&id=67e0b5d4&bindings={}\"\nimport script from \"./Instance.vue?vue&type=script&lang=ts\"\nexport * from \"./Instance.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    You have been logged out!\n    <router-link to=\"/login\">Goto Login</router-link>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { AUTH } from \"../../services/store/modules/auth\"\n\nexport default defineComponent({\n  async mounted() {\n    await this.logout()\n  },\n  methods: {\n    async logout() {\n      await store.dispatch(AUTH.LOGOUT)\n    }\n  }\n})\n</script>\n","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { AUTH } from \"../../services/store/modules/auth\"\n\nexport default defineComponent({\n  async mounted() {\n    await this.logout()\n  },\n  methods: {\n    async logout() {\n      await store.dispatch(AUTH.LOGOUT)\n    }\n  }\n})\n","import { render } from \"./Logout.vue?vue&type=template&id=6e2df5ea&bindings={}\"\nimport script from \"./Logout.vue?vue&type=script&lang=ts\"\nexport * from \"./Logout.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <form class=\"login\" @submit.prevent>\n      <div>\n        <label for=\"createEndpoint\">create api endpoint?</label>\n        <input type=\"checkbox\" v-model=\"createEndpoint\" id=\"createEndpoint\">\n      </div>\n      <span v-if=\"createEndpoint\">\n        <div>\n          <label for=\"newEndpointName\">Name:</label>\n          <input type=\"text\" v-model=\"newEndpointName\" id=\"newEndpointName\">\n        </div>\n        <div>\n          <label for=\"newEndpointLocation\">Endpoint:</label>\n          <input type=\"text\" v-model=\"newEndpointLocation\" id=\"newEndpointLocation\">\n        </div>\n        <div>\n          <input type=\"button\" value=\"Add Endpoint\" @click=\"addEndpoint\" />\n        </div>\n      </span>\n      <div>\n        <label for=\"selectedEndpoint\">Endpoint:</label>\n        <select :value=\"selectedEndpoint\" id=\"selectedEndpoint\" @input=\"updateEndpoint\">\n          <option\n            v-for=\"(value, name) in endpoints\"\n            v-bind:value=\"name\"\n            v-bind:key=\"name\"\n          >\n            {{`${name} - ${value}`}}\n          </option>\n        </select>\n      </div>\n      <div>\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" autofocus v-model=\"username\" id=\"username\">\n      </div>\n      <div>\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" v-model=\"password\" id=\"password\">\n      </div>\n      <input type=\"submit\" @click=\"login\" value=\"Send\">\n    </form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { AUTH } from \"../../services/store/modules/auth\"\nimport { APP } from \"../../services/store/modules/app\"\n\nexport default defineComponent({\n  data() {\n    return {\n      newEndpointLocation: \"\",\n      newEndpointName: \"\",\n      createEndpoint: false,\n      username: \"admin\",\n      password: \"\"\n    }\n  },\n  computed: {\n    endpoints: () => store.state.app.endpoints,\n    selectedEndpoint: () => store.state.app.endpoint\n  },\n  methods: {\n    /** checks if the endpoint provided is a valid endpoint */\n    async testEndpoint() {\n      const res = await fetch(this.getApiLocation(this.newEndpointLocation))\n      const data = await res.json()\n      if (typeof data !== \"object\" || data.name !== \"VeniceRCON-api\")\n        throw new Error(\"invalid response received from endpoint\")\n    },\n    /** parses the url string and tries to fetch the correct api endpoint url */\n    getApiLocation(endpoint: string) {\n      if (endpoint.endsWith(\"/\")) endpoint = endpoint.slice(0, -1)\n      if (endpoint.endsWith(\"/api\")) return endpoint\n      return `${endpoint}/api`\n    },\n    updateEndpoint(event: InputEvent) {\n      if (!event.target) return\n      //@ts-ignore\n      store.commit(APP.SELECT_ENDPOINT, { name: event.target.value })\n    },\n    async addEndpoint() {\n      await this.testEndpoint()\n      store.dispatch(APP.ADD_LOCATION, {\n        name: this.newEndpointName,\n        location: this.newEndpointLocation\n      })\n      this.newEndpointLocation = \"\"\n      this.newEndpointName = \"\"\n      this.createEndpoint = false\n    },\n    async login() {\n      try {\n        await store.dispatch(AUTH.LOGIN, {\n          username: this.username,\n          password: this.password\n        })\n        await this.$router.push(\"/dashboard\")\n      } catch (e) {\n        //@ts-ignore\n        this.$toast.add({\n          severity: \"error\",\n          detail: \"check username and password\",\n          summary: \"login failed\",\n          life: 4000\n        })\n      }\n    }\n  }\n})\n</script>\n","\nimport { defineComponent } from \"vue\"\nimport store from \"../../services/store\"\nimport { AUTH } from \"../../services/store/modules/auth\"\nimport { APP } from \"../../services/store/modules/app\"\n\nexport default defineComponent({\n  data() {\n    return {\n      newEndpointLocation: \"\",\n      newEndpointName: \"\",\n      createEndpoint: false,\n      username: \"admin\",\n      password: \"\"\n    }\n  },\n  computed: {\n    endpoints: () => store.state.app.endpoints,\n    selectedEndpoint: () => store.state.app.endpoint\n  },\n  methods: {\n    /** checks if the endpoint provided is a valid endpoint */\n    async testEndpoint() {\n      const res = await fetch(this.getApiLocation(this.newEndpointLocation))\n      const data = await res.json()\n      if (typeof data !== \"object\" || data.name !== \"VeniceRCON-api\")\n        throw new Error(\"invalid response received from endpoint\")\n    },\n    /** parses the url string and tries to fetch the correct api endpoint url */\n    getApiLocation(endpoint: string) {\n      if (endpoint.endsWith(\"/\")) endpoint = endpoint.slice(0, -1)\n      if (endpoint.endsWith(\"/api\")) return endpoint\n      return `${endpoint}/api`\n    },\n    updateEndpoint(event: InputEvent) {\n      if (!event.target) return\n      //@ts-ignore\n      store.commit(APP.SELECT_ENDPOINT, { name: event.target.value })\n    },\n    async addEndpoint() {\n      await this.testEndpoint()\n      store.dispatch(APP.ADD_LOCATION, {\n        name: this.newEndpointName,\n        location: this.newEndpointLocation\n      })\n      this.newEndpointLocation = \"\"\n      this.newEndpointName = \"\"\n      this.createEndpoint = false\n    },\n    async login() {\n      try {\n        await store.dispatch(AUTH.LOGIN, {\n          username: this.username,\n          password: this.password\n        })\n        await this.$router.push(\"/dashboard\")\n      } catch (e) {\n        //@ts-ignore\n        this.$toast.add({\n          severity: \"error\",\n          detail: \"check username and password\",\n          summary: \"login failed\",\n          life: 4000\n        })\n      }\n    }\n  }\n})\n","import { render } from \"./Login.vue?vue&type=template&id=41ecb0e2&bindings={}\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\"\nimport Main from \"../../views/main/Main.vue\"\nimport Dashboard from \"../../views/main/Dashboard.vue\"\nimport Instance from \"../../views/main/Instance.vue\"\nimport Logout from \"../../views/auth/Logout.vue\"\nimport Login from \"../../views/auth/Login.vue\"\nimport store from \"../store\"\n\nconst routes: RouteRecordRaw[] = [{\n  path: \"/:instanceId(\\\\d+)\",\n  name: \"Instance\" ,\n  component: Instance,\n  children: [\n    \n  ]\n  }, {\n    path: \"/dashboard\",\n    name: \"Dashboard\",\n    component: Dashboard\n  }, {\n    path: \"/login\",\n    name: \"Login\",\n    component: Login,\n  }, {\n    path: \"/logout\",\n    name: \"Logout\",\n    component: Logout\n  }, {\n    path: \"/\",\n    redirect: { path: \"/dashboard\" }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  await waitInitialized()\n  if (to.name === \"Login\" && store.getters.loggedIn) return next({ path: \"/\" })\n  if (to.name !== \"Login\" && !store.getters.loggedIn) return next({ path: \"/login\" })\n  next()\n})\n\nfunction waitInitialized() {\n  if (store.state.app.initialized) return Promise.resolve()\n  return new Promise(fulfill => {\n    if (store.state.app.initialized) return fulfill()\n    const unsubscribe = store.watch(state => state.app.initialized, init => {\n      if (!init) return\n      unsubscribe()\n      fulfill()\n    })\n  })\n}\n\nexport default router\n","import io from \"socket.io-client\"\nimport store from \"../store\"\nimport { INSTANCE } from \"../store/modules/instances\"\nimport { AUTH } from \"../store/modules/auth\"\nimport { Instance } from \"../../types/Instance\"\n//@ts-ignore\nimport { useToast } from \"primevue/usetoast\"\n\nexport const socket = io(store.getters.apiEndpointUrl, {\n  autoConnect: false,\n  transports: [\"websocket\"]\n})\n\nstore.watch((state, getters) => getters.loggedIn, loggedIn => {\n  if (loggedIn) return connect()\n  disconnect()\n})\n\n/** disconnects from the socket */\nfunction disconnect() {\n  socket.disconnect()\n}\n\n/** connects to the socket */\nfunction connect() {\n  socket.io.uri = getUrl()\n  return socket.connect()\n}\n\nfunction getUrl() {\n  return `${store.getters.apiEndpointUrl}?auth_token=${store.state.auth.token}`\n}\n\n/** reconnects to the socket */\nexport function reconnect() {\n  disconnect()\n  return connect()\n}\n\nexport interface InstanceAddEvent {\n  state: Instance\n}\n\nsocket.on(\"INSTANCE#ADD\", (event: InstanceAddEvent) => {\n  store.dispatch(INSTANCE.ADD, event.state)\n})\n\nexport interface InstanceUpdateEvent {\n  id: number\n  changes: [string, any]\n}\n\nsocket.on(\"INSTANCE#UPDATE\", (event: InstanceUpdateEvent) => {\n  store.dispatch(INSTANCE.UPDATE, { id: event.id, changes: event.changes })\n})\n\nexport interface InstanceRemoveEvent {\n  id: number\n}\n\nsocket.on(\"INSTANCE#REMOVE\", (event: InstanceRemoveEvent) => {\n  store.dispatch(INSTANCE.DEL, { id: event.id })\n})\n\nexport interface ChatMessage {\n  id: number\n  instance: number\n  name: string\n  message: string\n  subset: string\n}\n\nexport interface ChatMessageEvent {\n  messages: ChatMessage[]\n}\n\nsocket.on(\"INSTANCE#CHAT\", (event: ChatMessageEvent) => {\n  store.dispatch(INSTANCE.ADD_CHAT, { messages: event.messages })\n})\n\nsocket.on(\"INSTANCE#KILL\", (event: any) => {\n  console.log(\"INSTANCE#KILL\", event)\n})\n\nexport interface InstanceLogEvent {\n  messages: {\n    created: string\n    instanceId: number\n    level: string\n    message: string\n    source: number\n    sourceLocation: string|null\n  }[]\n}\n\nsocket.on(\"INSTANCE#LOG\", (event: InstanceLogEvent) => {\n  const toast = useToast()\n  event.messages.forEach(({ level, instanceId, message }) => {\n    toast.add({\n      severity: level,\n      detail: message,\n      summary: `from ${instanceId}`,\n      life: 4000\n    })\n  })\n  console.log(\"INSTANCE#LOG\", event)\n})\n\nexport interface ConsoleEvent {\n  id: number\n  type: \"send\"|\"receive\",\n  words: string[]\n}\n\nsocket.on(\"INSTANCE#CONSOLE\", (event: ConsoleEvent) => {\n  store.dispatch(INSTANCE.ADD_CONSOLE, event)\n})\n\nsocket.on(\"SELF#PERMISSION_UPDATE\", () => {\n  store.dispatch(AUTH.WHOAMI)\n})","<template>\n  <span v-if=\"hasPermission()\">\n    <slot></slot>\n  </span>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instance: Number,\n    //array of strings or string\n    scopes: {\n      validator(value) {\n        return (\n          (Array.isArray(value) && value.every(v => typeof v === \"string\")) ||\n          typeof value === \"string\"\n        )\n      }\n    }\n  },\n  computed: {\n    hasPermission() {\n      return () => {\n        const { hasPermission } = store.getters\n        const scopes = (Array.isArray(this.scopes) ? this.scopes : [this.scopes]) as string[]\n        return scopes.some(scope => hasPermission(this.instance || 0, scope))\n      }\n    }\n  }\n})\n</script>","\nimport { defineComponent } from \"vue\"\nimport store from \"../services/store\"\n\nexport default defineComponent({\n  props: {\n    instance: Number,\n    //array of strings or string\n    scopes: {\n      validator(value) {\n        return (\n          (Array.isArray(value) && value.every(v => typeof v === \"string\")) ||\n          typeof value === \"string\"\n        )\n      }\n    }\n  },\n  computed: {\n    hasPermission() {\n      return () => {\n        const { hasPermission } = store.getters\n        const scopes = (Array.isArray(this.scopes) ? this.scopes : [this.scopes]) as string[]\n        return scopes.some(scope => hasPermission(this.instance || 0, scope))\n      }\n    }\n  }\n})\n","import { render } from \"./PermissionCheck.vue?vue&type=template&id=b0efc6fa&bindings={}\"\nimport script from \"./PermissionCheck.vue?vue&type=script&lang=ts\"\nexport * from \"./PermissionCheck.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { createApp } from \"vue\"\nimport App from \"./App.vue\"\nimport router from \"./services/router\"\nimport store from \"./services/store\"\nimport \"./services/socket\"\n\nimport PermissionCheck from \"./components/PermissionCheck.vue\"\n\nimport \"primeflex/primeflex.css\"\nimport \"primevue/resources/themes/bootstrap4-light-blue/theme.css\"\nimport \"primevue/resources/primevue.min.css\"\nimport \"primeicons/primeicons.css\"\n\n\nimport ToastService from \"primevue/toastservice\"\nimport Toast from \"primevue/toast\"\nimport Card from \"primevue/card\"\nimport Button from \"primevue/button\"\nimport SplitButton from \"primevue/splitbutton\"\nimport InputNumber from \"primevue/inputnumber\"\nimport InputText from \"primevue/inputtext\"\nimport InputSwitch from \"primevue/inputswitch\"\n\nexport const app = createApp(App)\n\napp.component(\"Toast\", Toast)\napp.component(\"Card\", Card)\napp.component(\"Button\", Button)\napp.component(\"SplitButton\", SplitButton)\napp.component(\"InputNumber\", InputNumber)\napp.component(\"InputText\", InputText)\napp.component(\"InputSwitch\", InputSwitch)\napp.component(\"PermissionCheck\", PermissionCheck)\n\napp\n  .use(store)\n  .use(router)\n  .use(ToastService)\n  .mount(\"#app\")"],"sourceRoot":""}